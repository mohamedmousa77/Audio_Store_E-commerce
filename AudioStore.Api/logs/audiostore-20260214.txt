2026-02-14 00:14:00.486 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.0750 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:00000011","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:00.503 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"bcb69b19-ac13-4fa1-920b-b4d93117f7b7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:01.840 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bcb69b19-ac13-4fa1-920b-b4d93117f7b7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:01.953 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"bcb69b19-ac13-4fa1-920b-b4d93117f7b7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:14:01.962 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 1460.4105 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:00000013","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.173 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0469 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:00000015","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.175 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0430 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:00000017","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.177 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0278 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:00000019","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.188 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.209 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"ad7f8177-fe9c-4a6c-b02b-c5ab99965288","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.225 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"d0674554-cd4e-4449-b98c-cacbf58338d8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.261 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.313 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad7f8177-fe9c-4a6c-b02b-c5ab99965288","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.353 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d0674554-cd4e-4449-b98c-cacbf58338d8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.381 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.455 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"ad7f8177-fe9c-4a6c-b02b-c5ab99965288","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:14:05.555 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"d0674554-cd4e-4449-b98c-cacbf58338d8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:14:05.635 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2D:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:14:05.657 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 448.1974 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:0000001D","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.689 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 464.4604 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:0000001F","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:14:05.712 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 523.7282 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2D:0000001B","ConnectionId":"0HNJBA2LORI2D","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:58.966 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0795 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000001","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.050 +01:00 [INF] Getting cart for user: null or session: 875d6e25-3fb9-45d5-b943-1def7ad8803b {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"5231999b-836d-4360-a0d6-41623ed73fab","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000003","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.153 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0592 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000007","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.148 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0612 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000005","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.153 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0429 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000009","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.247 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@sessionId='875d6e25-3fb9-45d5-b943-1def7ad8803b' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5231999b-836d-4360-a0d6-41623ed73fab","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000003","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.350 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.286 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"ad7f8177-fe9c-4a6c-b02b-c5ab99965288","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.427 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"d0674554-cd4e-4449-b98c-cacbf58338d8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.552 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 502.6527 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000003","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.619 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.703 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad7f8177-fe9c-4a6c-b02b-c5ab99965288","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.764 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d0674554-cd4e-4449-b98c-cacbf58338d8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:15:59.930 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:16:00.178 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"ad7f8177-fe9c-4a6c-b02b-c5ab99965288","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:16:00.377 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"d0674554-cd4e-4449-b98c-cacbf58338d8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:16:00.577 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"ce381fbd-a85d-47af-80a8-972646d86dd7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:16:00.642 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 1357.1717 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:0000000B","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:16:00.712 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 1286.4955 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:0000000F","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:16:00.799 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 1451.3081 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:0000000D","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:23.892 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.1031 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000011","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:23.912 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"bcb69b19-ac13-4fa1-920b-b4d93117f7b7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:23.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bcb69b19-ac13-4fa1-920b-b4d93117f7b7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:24.022 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"bcb69b19-ac13-4fa1-920b-b4d93117f7b7","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-14 00:18:24.045 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 139.2510 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000013","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.528 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0729 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000015","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.582 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"29fa2dac-58c4-459d-bbf5-d26f4741cde7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000017","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.608 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='875d6e25-3fb9-45d5-b943-1def7ad8803b' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"29fa2dac-58c4-459d-bbf5-d26f4741cde7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000017","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.685 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"29fa2dac-58c4-459d-bbf5-d26f4741cde7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000017","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.825 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='8', @p1='2026-02-13T23:18:27.8012011Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='5', @p5='1', @p6='3500.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"29fa2dac-58c4-459d-bbf5-d26f4741cde7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000017","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.879 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: 875d6e25-3fb9-45d5-b943-1def7ad8803b) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"29fa2dac-58c4-459d-bbf5-d26f4741cde7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000017","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='875d6e25-3fb9-45d5-b943-1def7ad8803b' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"29fa2dac-58c4-459d-bbf5-d26f4741cde7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:00000017","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:27.962 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 418.6488 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000017","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:30.596 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:00000019","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:30.606 +01:00 [INF] Getting cart for user: null or session: 875d6e25-3fb9-45d5-b943-1def7ad8803b {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"5231999b-836d-4360-a0d6-41623ed73fab","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000001B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:30.620 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='875d6e25-3fb9-45d5-b943-1def7ad8803b' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5231999b-836d-4360-a0d6-41623ed73fab","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJBA2LORI2F:0000001B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-14 00:18:30.679 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 73.3427 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJBA2LORI2F:0000001B","ConnectionId":"0HNJBA2LORI2F","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
