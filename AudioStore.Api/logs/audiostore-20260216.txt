2026-02-16 04:03:10.273 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/login responded 204 in 0.3357 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJCFDS1TTD3:00000001","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:10.311 +01:00 [INF] Login attempt for email: mousa@admin.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"d6e61aed-e496-4156-b395-1644695589d2","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJCFDS1TTD3:00000003","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:10.366 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@normalizedEmail='MOUSA@ADMIN.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6e61aed-e496-4156-b395-1644695589d2","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJCFDS1TTD3:00000003","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:10.391 +01:00 [WRN] Login failed for mousa@admin.com: Credenziali non valide {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"d6e61aed-e496-4156-b395-1644695589d2","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJCFDS1TTD3:00000003","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:10.405 +01:00 [INF] HTTP POST /api/v1.0/auth/login responded 401 in 95.8723 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJCFDS1TTD3:00000003","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:24.176 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/login responded 204 in 0.0446 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJCFDS1TTD3:00000005","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:24.202 +01:00 [INF] Login attempt for email: mousa@admin.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"d6e61aed-e496-4156-b395-1644695589d2","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJCFDS1TTD3:00000007","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:24.232 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='MOUSA@ADMIN.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6e61aed-e496-4156-b395-1644695589d2","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJCFDS1TTD3:00000007","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:24.258 +01:00 [WRN] Login failed for mousa@admin.com: Credenziali non valide {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"d6e61aed-e496-4156-b395-1644695589d2","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJCFDS1TTD3:00000007","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:03:24.272 +01:00 [INF] HTTP POST /api/v1.0/auth/login responded 401 in 70.1875 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJCFDS1TTD3:00000007","ConnectionId":"0HNJCFDS1TTD3","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:42.811 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:43.715 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.104 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.131 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.174 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.190 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.196 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.204 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.218 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.226 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.395 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.430 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.435 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.441 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.455 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='MUOSA@ADMIN.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.483 +01:00 [INF] Admin user already exists: muosa@admin.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='GENNARO@ADMIN.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.492 +01:00 [INF] Admin user already exists: gennaro@admin.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.495 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedEmail='MONTE@ADMIN.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.502 +01:00 [INF] Admin user already exists: monte@admin.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.515 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.522 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.530 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.535 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.538 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:44.707 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.484 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 4.6960 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000007","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.484 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 4.9119 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000003","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.484 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 4.5522 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000001","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.484 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 4.5752 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000005","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.915 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.982 +01:00 [INF] Getting cart for user: null or session: 6d0f7108-847f-48e1-a31a-86777fe0257f {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.982 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:57.994 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.005 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.164 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.240 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.355 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.382 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='6d0f7108-847f-48e1-a31a-86777fe0257f' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.479 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:04:58.521 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.631 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:04:58.671 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 986.2307 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000000F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.727 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:04:58.770 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 1231.7079 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000000B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.797 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 1279.3351 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000009","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.846 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='2026-02-16T03:04:58.7550296Z', @p1=NULL (DbType = Int32), @p2=NULL (DbType = Int32), @p3='6d0f7108-847f-48e1-a31a-86777fe0257f' (Size = 100) (DbType = AnsiString), @p4=NULL (DbType = DateTime2), @p5=NULL (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([CreatedAt], [CreatedById], [ModifiedById], [SessionId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[CartID], INSERTED.[IsActive], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.899 +01:00 [INF] New cart created - UserId: null, SessionId: 6d0f7108-847f-48e1-a31a-86777fe0257f {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:04:58.935 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 1315.5862 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000000D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:05.707 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/login responded 204 in 0.1924 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000011","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:05.786 +01:00 [INF] Login attempt for email: muosa@admin.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000013","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:05.870 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='MUOSA@ADMIN.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000013","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.072 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@userId='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000013","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.258 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='2026-02-16T03:05:06.2483926Z', @p1=NULL (DbType = Int32), @p2='127.0.0.1' (Size = 50) (DbType = AnsiString), @p3='2026-02-23T03:05:06.1381321Z', @p4='False', @p5=NULL (DbType = Int32), @p6=NULL (Size = 500) (DbType = AnsiString), @p7=NULL (DbType = DateTime2), @p8=NULL (Size = 50) (DbType = AnsiString), @p9='E/iFfIfnqlDiuqmb2izbH6Nn03011iCEMV/umpwn+/z8xvP844Bm4Pkl7HvrjxncCaKFcYcRMNVTY1NrLF/NfA==' (Nullable = false) (Size = 500) (DbType = AnsiString), @p10=NULL (DbType = DateTime2), @p11='6'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedById], [CreatedByIp], [ExpiresAt], [IsDeleted], [ModifiedById], [ReplacedByToken], [RevokedAt], [RevokedByIp], [Token], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000013","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.289 +01:00 [INF] User 6 logged in successfully {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000013","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.303 +01:00 [INF] User logged in successfully: muosa@admin.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000013","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.331 +01:00 [INF] HTTP POST /api/v1.0/auth/login responded 200 in 597.1662 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000013","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.352 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/merge responded 204 in 0.1065 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000015","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.391 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0654 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000001B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.391 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0306 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000019","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.506 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.508 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001D","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.525 +01:00 [INF] HTTP POST /api/v1.0/cart/merge responded 400 in 158.0780 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000017","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.536 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001D","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.539 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.580 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.616 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001D","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.645 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.688 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.736 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.738 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 322.0929 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000001D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.783 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:05:06.889 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000001F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:05:06.958 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 471.2482 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000001F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.277 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.3858 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000023","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.278 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0550 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000025","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.277 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.6262 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000021","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.306 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.346 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.369 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.386 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.468 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:06:31.507 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 201.7782 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000027","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.510 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.536 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.596 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:06:31.670 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:06:31.691 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 348.5631 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000029","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.724 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 215.4563 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000002B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.799 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0638 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000002D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.799 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0664 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000002F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.813 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.821 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.828 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.852 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.862 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.888 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 67.4963 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000033","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.933 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:31.993 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:06:32.036 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:06:32.046 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 234.4226 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000031","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.499 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.1922 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000035","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.499 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0968 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000037","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.500 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0638 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000039","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.560 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.600 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.619 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.641 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.659 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.676 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.695 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.765 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:07:08.810 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:07:08.856 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000003B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:07:08.893 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 294.4268 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000003D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.942 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 324.2650 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000003F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:08.974 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 416.3549 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000003B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.244 +01:00 [INF] HTTP OPTIONS /api/v1.0/profile/addresses responded 204 in 0.0613 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000041","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.244 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.0612 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000043","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.300 +01:00 [INF] Getting addresses for user: 6 {"SourceContext":"AudioStore.Api.Controllers.ProfileController","ActionId":"5edb2068-13b2-49b9-8122-e205d0aa206d","ActionName":"AudioStore.Api.Controllers.ProfileController.GetAddresses (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000045","RequestPath":"/api/v1.0/profile/addresses","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.317 +01:00 [INF] Getting orders for user: 6 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"47b3d1c1-0672-4c12-a45a-34045badc13a","ActionName":"AudioStore.Api.Controllers.OrdersController.GetUserOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000047","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.394 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@userId='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[CreatedById], [u0].[Email], [u0].[EmailConfirmed], [u0].[FirstName], [u0].[IsActive], [u0].[IsDeleted], [u0].[LastName], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[ModifiedById], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RegistrationDate], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [a0].[AddressID], [a0].[City], [a0].[Country], [a0].[CreatedAt], [a0].[CreatedById], [a0].[IsDefault], [a0].[IsDeleted], [a0].[ModifiedById], [a0].[PostalCode], [a0].[Street], [a0].[UpdatedAt], [a0].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @userId
) AS [u0]
LEFT JOIN (
    SELECT [a].[AddressID], [a].[City], [a].[Country], [a].[CreatedAt], [a].[CreatedById], [a].[IsDefault], [a].[IsDeleted], [a].[ModifiedById], [a].[PostalCode], [a].[Street], [a].[UpdatedAt], [a].[UserId]
    FROM [Addresses] AS [a]
    WHERE [a].[IsDeleted] = CAST(0 AS bit)
) AS [a0] ON [u0].[Id] = [a0].[UserId]
ORDER BY [u0].[Id] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5edb2068-13b2-49b9-8122-e205d0aa206d","ActionName":"AudioStore.Api.Controllers.ProfileController.GetAddresses (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000045","RequestPath":"/api/v1.0/profile/addresses","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.422 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@userId='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o].[Id] = [s].[OrderId]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[UserId] = @userId
ORDER BY [o].[OrderDate] DESC, [o].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"47b3d1c1-0672-4c12-a45a-34045badc13a","ActionName":"AudioStore.Api.Controllers.OrdersController.GetUserOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000047","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.427 +01:00 [INF] HTTP GET /api/v1.0/profile/addresses responded 200 in 152.5159 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000045","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:11.449 +01:00 [INF] HTTP GET /api/v1.0/orders responded 200 in 152.8940 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000047","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.620 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0708 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000049","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.620 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0817 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000004B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.644 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.673 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.690 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.701 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.718 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.741 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.762 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.809 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 137.7512 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000004F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.876 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:17.962 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:07:18.018 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000004D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:07:18.026 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 385.9913 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000004D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.266 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0407 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000051","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.266 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0112 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000053","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.283 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.322 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000057","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.344 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000057","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.370 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.406 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000057","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.431 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.454 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 160.6256 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000057","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.471 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.493 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.515 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:33.557 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000055","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:11:33.564 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 281.6467 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000055","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.605 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0606 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000059","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.608 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0450 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000005B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.624 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.643 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.653 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.665 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.696 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.728 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 85.5884 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000005F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.766 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.786 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:39.835 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000005D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:11:39.848 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 224.7086 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000005D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.530 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0406 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000061","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.532 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0204 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000063","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.559 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.568 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000067","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.585 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.596 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000067","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000067","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.645 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.663 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 96.3311 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000067","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.685 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.733 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:11:45.792 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000065","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:11:45.815 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 256.5798 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000065","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.651 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.2003 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000069","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.651 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0145 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000006B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.670 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.683 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.695 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.705 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.721 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.737 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.749 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.763 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 80.4104 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000006F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.800 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:06.869 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000006D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:12:06.885 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 215.8667 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000006D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.532 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0634 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000071","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.534 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0242 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000073","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.543 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.557 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000077","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.572 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.581 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000077","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.624 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000077","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.657 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 101.0346 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000077","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.754 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:14.810 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:00000075","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:12:14.823 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 280.5310 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000075","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.593 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0726 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:00000079","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.595 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0422 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000007B","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.621 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.632 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.647 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.658 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.677 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.690 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.714 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 83.9592 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000007F","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.729 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:12:38.820 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LL:0000007D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:12:38.832 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 212.0954 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LL:0000007D","ConnectionId":"0HNJD10HI98LL","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.186 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0376 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000001","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.186 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0380 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000003","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.208 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.240 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.282 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.320 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":50,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.370 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.376 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.394 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 156.4113 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000007","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.419 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.459 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.488 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:24:42.547 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:24:42.567 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 359.3572 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000005","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.494 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0376 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000009","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.496 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0292 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000000B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.507 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.519 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.537 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.546 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.563 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.596 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.604 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.622 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 103.0979 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000000F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.650 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.684 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.713 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:26:38.755 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:26:38.770 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 263.5348 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000000D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.185 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0497 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000011","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.191 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0333 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000013","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.253 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.268 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000017","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.283 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.293 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000017","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.304 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.333 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000017","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.334 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.350 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 82.3213 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000017","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.364 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.390 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.414 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:01.455 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:27:01.465 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 212.5612 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000015","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.391 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0326 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000019","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.425 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 28.8679 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000001B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.440 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.461 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.478 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.486 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.511 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.538 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.560 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.585 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 124.3081 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000001F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.600 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.620 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.635 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:30.674 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:27:30.685 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 245.2109 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000001D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.467 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0471 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000021","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.469 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0219 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000023","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.486 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.500 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.516 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.527 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.548 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.566 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.590 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.629 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 130.3482 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000027","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.653 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.706 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.732 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:36.792 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:27:36.811 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 326.1022 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000025","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.625 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.627 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000002B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.663 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000002B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.712 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.732 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000002B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.750 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.774 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 148.3973 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000002B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.799 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.847 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:27:40.907 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:27:40.926 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 302.0875 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000029","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.652 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0165 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000002D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.654 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0170 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000002F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.668 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.677 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.691 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.743 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.750 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.763 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 86.4619 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000033","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.781 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.802 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.827 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:28:29.896 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:28:29.944 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 277.0893 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000031","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.560 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0207 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000035","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.566 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0173 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000037","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.579 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.589 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000003B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.608 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.617 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000003B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.660 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000003B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.668 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.684 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 95.1170 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000003B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.702 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.731 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.761 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:04.811 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:29:04.827 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 248.1773 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000039","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.516 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0225 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000003D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.517 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.1453 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000003F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.545 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.562 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000043","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.577 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.591 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000043","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.613 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.638 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000043","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.650 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.668 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 106.4482 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000043","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.686 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:29:36.770 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:29:36.779 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 234.7427 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000041","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.444 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0371 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000045","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.446 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0217 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000047","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.469 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.483 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000004B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.528 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.562 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000004B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.596 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.645 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000004B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.658 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.674 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 191.6026 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000004B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.704 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.734 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.770 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:30:44.861 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:30:44.882 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 413.8679 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000049","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.301 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0180 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000004D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.303 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0244 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000004F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.318 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.328 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000053","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.346 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.357 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000053","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.381 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.416 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000053","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.423 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.437 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 109.4410 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000053","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.455 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.483 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.512 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:32:36.555 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:32:36.565 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 247.7249 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000051","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.309 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0207 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000055","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.311 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0232 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000057","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.324 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.342 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000005B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.358 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.367 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000005B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.380 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.405 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000005B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.407 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.428 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 86.5654 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000005B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.445 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.474 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.501 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:34:45.553 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000059","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:34:45.581 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 257.7171 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000059","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.693 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0222 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000005D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":88,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.701 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0108 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000061","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.726 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 25.1540 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000005F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.728 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0198 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000063","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.746 +01:00 [INF] Getting cart for user: 6 or session: null {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.759 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000067","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.780 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000069","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.796 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000006B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.838 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000067","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.901 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@userId='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[UserId] = @userId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.853 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000069","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.941 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000006B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:32.978 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000067","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:36:33.017 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='2026-02-16T03:36:33.0077159Z', @p1=NULL (DbType = Int32), @p2=NULL (DbType = Int32), @p3=NULL (Size = 100) (DbType = AnsiString), @p4=NULL (DbType = DateTime2), @p5='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([CreatedAt], [CreatedById], [ModifiedById], [SessionId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[CartID], INSERTED.[IsActive], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:33.016 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000069","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:33.048 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000006B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:36:33.057 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 301.0662 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000067","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:33.066 +01:00 [INF] New cart created - UserId: 6, SessionId: null {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:33.107 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000069","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:36:33.121 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 329.7191 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000006B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:33.140 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 394.9888 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000065","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:33.149 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 368.7632 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000069","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.025 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.0160 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000006F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.025 +01:00 [INF] HTTP OPTIONS /api/v1.0/profile/addresses responded 204 in 0.0341 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000006D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.036 +01:00 [INF] Getting orders for user: 6 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"47b3d1c1-0672-4c12-a45a-34045badc13a","ActionName":"AudioStore.Api.Controllers.OrdersController.GetUserOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000071","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.046 +01:00 [INF] Getting addresses for user: 6 {"SourceContext":"AudioStore.Api.Controllers.ProfileController","ActionId":"5edb2068-13b2-49b9-8122-e205d0aa206d","ActionName":"AudioStore.Api.Controllers.ProfileController.GetAddresses (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000073","RequestPath":"/api/v1.0/profile/addresses","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.096 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@userId='6' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM [Orders] AS [o]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o].[Id] = [s].[OrderId]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[UserId] = @userId
ORDER BY [o].[OrderDate] DESC, [o].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"47b3d1c1-0672-4c12-a45a-34045badc13a","ActionName":"AudioStore.Api.Controllers.OrdersController.GetUserOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000071","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.107 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@userId='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[CreatedById], [u0].[Email], [u0].[EmailConfirmed], [u0].[FirstName], [u0].[IsActive], [u0].[IsDeleted], [u0].[LastName], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[ModifiedById], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[RegistrationDate], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [a0].[AddressID], [a0].[City], [a0].[Country], [a0].[CreatedAt], [a0].[CreatedById], [a0].[IsDefault], [a0].[IsDeleted], [a0].[ModifiedById], [a0].[PostalCode], [a0].[Street], [a0].[UpdatedAt], [a0].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @userId
) AS [u0]
LEFT JOIN (
    SELECT [a].[AddressID], [a].[City], [a].[Country], [a].[CreatedAt], [a].[CreatedById], [a].[IsDefault], [a].[IsDeleted], [a].[ModifiedById], [a].[PostalCode], [a].[Street], [a].[UpdatedAt], [a].[UserId]
    FROM [Addresses] AS [a]
    WHERE [a].[IsDeleted] = CAST(0 AS bit)
) AS [a0] ON [u0].[Id] = [a0].[UserId]
ORDER BY [u0].[Id] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5edb2068-13b2-49b9-8122-e205d0aa206d","ActionName":"AudioStore.Api.Controllers.ProfileController.GetAddresses (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000073","RequestPath":"/api/v1.0/profile/addresses","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.118 +01:00 [INF] HTTP GET /api/v1.0/orders responded 200 in 82.5435 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000071","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:36.134 +01:00 [INF] HTTP GET /api/v1.0/profile/addresses responded 200 in 87.7142 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000073","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.198 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0269 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000075","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.199 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0251 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000077","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.210 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.222 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000007B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.238 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.246 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000007B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.258 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.279 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000007B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.284 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.297 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 75.3874 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000007B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.321 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.343 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.366 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:36:42.404 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:36:42.414 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 204.5832 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000079","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.807 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0207 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000007D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.841 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0532 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000007F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.874 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.888 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000083","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.909 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.923 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000083","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.941 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.963 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000083","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.968 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:37:59.984 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 102.3992 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000083","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:38:00.010 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:38:00.058 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:38:00.093 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:38:00.182 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000081","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:38:00.200 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 326.8995 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000081","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.762 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0243 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000085","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.763 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0104 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000087","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.782 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.808 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000008B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.864 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000008B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.889 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.923 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000008B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.924 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.950 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 143.6722 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000008B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:29.966 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:30.000 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:30.073 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:46:30.113 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000089","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:46:30.132 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 350.3827 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000089","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.583 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0370 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000008D","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.584 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0134 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000008F","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.594 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.604 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000093","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.614 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.624 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000093","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.657 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.690 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000093","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.701 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.717 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 113.6287 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000093","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.743 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.769 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.798 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:29.839 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000091","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:47:29.852 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 258.6838 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000091","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.522 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0311 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000095","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.522 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0126 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000097","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.543 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.560 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000009B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.578 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.594 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000009B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.611 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LO:0000009B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.659 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 99.2644 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:0000009B","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.699 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:47:35.750 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LO:00000099","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:47:35.759 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 215.9520 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LO:00000099","ConnectionId":"0HNJD10HI98LO","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.606 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0317 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000001","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.606 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0235 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000003","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.624 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.653 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.698 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.722 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.740 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.773 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.773 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.798 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.807 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 155.7378 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000007","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.835 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.872 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:31.974 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:49:32.010 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 386.7645 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000005","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.394 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0245 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000009","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.394 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0146 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000000B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.423 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.458 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.478 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.498 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.532 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.574 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.579 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.603 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 149.8183 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000000F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.632 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.669 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.694 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:55.742 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000000D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:49:55.755 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 332.4802 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000000D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.493 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.493 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.510 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.548 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.571 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.589 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.609 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 115.4802 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000013","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.627 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.650 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.675 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:49:57.730 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:49:57.752 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 259.5044 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000011","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.710 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0206 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000015","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.713 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0117 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000017","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.770 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.808 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000001B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.824 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.836 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000001B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.851 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.884 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000001B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.886 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.903 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 118.4232 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000001B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.925 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.953 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:14.983 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:15.023 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000019","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:53:15.033 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 264.5446 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000019","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.415 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0168 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000001D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.415 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0126 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000001F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.432 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.444 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000023","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.460 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000023","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.499 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000023","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.569 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 126.3100 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000023","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.615 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.637 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:53:26.670 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:53:26.680 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 247.9696 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000021","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.696 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.1857 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000025","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.720 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0189 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000027","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.740 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.759 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000002B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.781 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.792 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000002B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.808 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.835 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000002B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.842 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.897 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 138.1515 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000002B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:22.943 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:23.005 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:23.042 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:23.094 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000029","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:54:23.102 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 362.2255 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000029","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.162 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0274 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000002D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.162 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0078 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000002F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.230 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.254 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.280 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.303 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.334 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.357 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000033","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.366 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.381 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 128.5694 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000033","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.396 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.427 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:54:57.464 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000031","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:54:57.474 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 244.3919 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000031","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.530 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0194 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000035","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.531 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0145 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000037","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.554 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.571 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000003B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.586 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.600 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000003B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.613 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000003B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.639 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.650 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 78.8402 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000003B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.664 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.707 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.725 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:55:11.778 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000039","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:55:11.791 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 237.7816 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000039","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.788 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0167 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000003D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.788 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0090 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000003F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.806 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.821 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000043","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.839 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.844 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000043","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.856 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.887 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000043","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.888 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.914 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 92.9719 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000043","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.947 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.970 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:44.996 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:57:45.036 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000041","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:57:45.089 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 283.4723 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000041","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.277 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0184 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000045","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.278 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0186 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000047","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.297 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.313 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000004B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.324 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.338 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000004B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.352 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.382 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000004B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.385 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.402 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 89.6686 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000004B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.425 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.456 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.479 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:24.534 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000049","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:24.551 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 257.8768 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000049","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.017 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0150 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000004D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.018 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0178 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000004F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.040 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.061 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000053","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.075 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.088 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000053","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.103 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.120 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000053","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.133 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.146 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 84.9651 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000053","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.159 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.183 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.203 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:33.257 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000051","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:33.272 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 232.5898 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000051","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.394 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0245 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000055","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.395 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0137 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000057","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.395 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0138 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000059","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.417 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.429 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.456 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.466 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.507 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:39.538 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:39.555 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 138.2250 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000005B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.551 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.549 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 121.6012 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000005D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.569 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:39.608 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000005F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:39.618 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 66.7935 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000005F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:41.931 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000061","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:41.946 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000063","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:41.957 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000063","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:41.972 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000063","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:41.988 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 41.4605 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000063","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:43.764 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/customers responded 204 in 0.0288 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000065","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:43.765 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/customers/summary responded 204 in 0.0256 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000067","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:43.813 +01:00 [INF] Admin getting customers {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000069","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:43.825 +01:00 [INF] Admin getting customer summary {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000006B","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:43.883 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000006B","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:43.931 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000006B","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 04:59:44.014 +01:00 [ERR] Error getting customers {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000069","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
AsyncStateMachineBox`1 -> IEnumerable`1
System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[AudioStore.Domain.Entities.User, AudioStore.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[AudioStore.Infrastructure.Repositories.UserRepository+<GetCustomersWithOrdersAsync>d__22, AudioStore.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[AudioStore.Common.DTOs.Admin.CustomerManagement.CustomerListItemDTO, AudioStore.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method1981(Closure, Object, IEnumerable`1, ResolutionContext)
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomersAsync(CustomerFilterDTO filter) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 95
2026-02-16 04:59:44.115 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000006B","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":94,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.014 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u0].[UserId], [u0].[RoleId], [r].[Id], [o0].[Id], [o0].[CreatedAt], [o0].[CreatedById], [o0].[CustomerEmail], [o0].[CustomerFirstName], [o0].[CustomerLastName], [o0].[CustomerPhone], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[Notes], [o0].[OrderDate], [o0].[OrderNumber], [o0].[PaymentMethod], [o0].[ShippingCity], [o0].[ShippingCost], [o0].[ShippingCountry], [o0].[ShippingPostalCode], [o0].[ShippingStreet], [o0].[Status], [o0].[Subtotal], [o0].[Tax], [o0].[TotalAmount], [o0].[UpdatedAt], [o0].[UserId]
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
LEFT JOIN (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
) AS [o0] ON [u].[Id] = [o0].[UserId]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer'
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId], [r].[Id] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000069","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.170 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000006B","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 04:59:44.182 +01:00 [INF] HTTP GET /api/v1.0/admin/customers responded 400 in 396.1378 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000069","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.280 +01:00 [ERR] Error getting customer summary {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000006B","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Infrastructure.Repositories.UserRepository.GetActiveCustomersThisMonthAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Repositories\UserRepository.cs:line 252
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomerSummaryAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 48
2026-02-16 04:59:44.313 +01:00 [INF] HTTP GET /api/v1.0/admin/customers/summary responded 400 in 508.4024 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000006B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.753 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0149 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000006F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.753 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0147 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000006D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.753 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0082 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000071","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.774 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000073","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.782 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000075","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.800 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000073","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000075","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.821 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000073","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.865 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000075","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:44.930 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000073","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:44.952 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 169.6920 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000075","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.960 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000077","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:44.993 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 219.7556 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000073","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:45.035 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000077","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:45.120 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000077","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 04:59:45.145 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 185.5570 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000077","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.693 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/customers responded 204 in 0.0248 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000079","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.694 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/customers/summary responded 204 in 0.0185 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000007B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.714 +01:00 [INF] Admin getting customers {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007D","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.741 +01:00 [INF] Admin getting customer summary {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.806 +01:00 [ERR] Error getting customers {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007D","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
AsyncStateMachineBox`1 -> IEnumerable`1
System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[AudioStore.Domain.Entities.User, AudioStore.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[AudioStore.Infrastructure.Repositories.UserRepository+<GetCustomersWithOrdersAsync>d__22, AudioStore.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[AudioStore.Common.DTOs.Admin.CustomerManagement.CustomerListItemDTO, AudioStore.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method1981(Closure, Object, IEnumerable`1, ResolutionContext)
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomersAsync(CustomerFilterDTO filter) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 95
2026-02-16 04:59:50.848 +01:00 [INF] HTTP GET /api/v1.0/admin/customers responded 400 in 135.6092 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000007D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.826 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 04:59:50.836 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.806 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u0].[UserId], [u0].[RoleId], [r].[Id], [o0].[Id], [o0].[CreatedAt], [o0].[CreatedById], [o0].[CustomerEmail], [o0].[CustomerFirstName], [o0].[CustomerLastName], [o0].[CustomerPhone], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[Notes], [o0].[OrderDate], [o0].[OrderNumber], [o0].[PaymentMethod], [o0].[ShippingCity], [o0].[ShippingCost], [o0].[ShippingCountry], [o0].[ShippingPostalCode], [o0].[ShippingStreet], [o0].[Status], [o0].[Subtotal], [o0].[Tax], [o0].[TotalAmount], [o0].[UpdatedAt], [o0].[UserId]
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
LEFT JOIN (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
) AS [o0] ON [u].[Id] = [o0].[UserId]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer'
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId], [r].[Id] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007D","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:50.931 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 04:59:50.963 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'AppDbContext'.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007D","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'AppDbContext'.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 04:59:51.057 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt], [s].[CreatedById], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[IsActive], [s].[IsDeleted], [s].[LastName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[ModifiedById], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RegistrationDate], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserId], [s].[RoleId], [s].[Id0], [o2].[Id], [o2].[CreatedAt], [o2].[CreatedById], [o2].[CustomerEmail], [o2].[CustomerFirstName], [o2].[CustomerLastName], [o2].[CustomerPhone], [o2].[IsDeleted], [o2].[ModifiedById], [o2].[Notes], [o2].[OrderDate], [o2].[OrderNumber], [o2].[PaymentMethod], [o2].[ShippingCity], [o2].[ShippingCost], [o2].[ShippingCountry], [o2].[ShippingPostalCode], [o2].[ShippingStreet], [o2].[Status], [o2].[Subtotal], [o2].[Tax], [o2].[TotalAmount], [o2].[UpdatedAt], [o2].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u0].[UserId], [u0].[RoleId], [r].[Id] AS [Id0], (
        SELECT COALESCE(SUM([o0].[TotalAmount]), 0.0)
        FROM [Orders] AS [o0]
        WHERE [o0].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = [o0].[UserId]) AS [c]
    FROM [Users] AS [u]
    INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' AND EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = [o].[UserId])
    ORDER BY (
        SELECT COALESCE(SUM([o0].[TotalAmount]), 0.0)
        FROM [Orders] AS [o0]
        WHERE [o0].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = [o0].[UserId]) DESC
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId]
    FROM [Orders] AS [o1]
    WHERE [o1].[IsDeleted] = CAST(0 AS bit)
) AS [o2] ON [s].[Id] = [o2].[UserId]
ORDER BY [s].[c] DESC, [s].[Id], [s].[UserId], [s].[RoleId], [s].[Id0] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 04:59:51.117 +01:00 [ERR] Error getting customer summary {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000007F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Infrastructure.Repositories.UserRepository.GetActiveCustomersThisMonthAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Repositories\UserRepository.cs:line 252
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomerSummaryAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 48
2026-02-16 04:59:51.130 +01:00 [INF] HTTP GET /api/v1.0/admin/customers/summary responded 400 in 388.9893 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000007F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.480 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/refresh-token responded 204 in 0.0306 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000081","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.481 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/refresh-token responded 204 in 0.0138 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000083","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.555 +01:00 [INF] Refresh token attempt from IP: ::1 {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000085","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.586 +01:00 [INF] Refresh token attempt from IP: ::1 {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000087","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.654 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@refreshToken='E/iFfIfnqlDiuqmb2izbH6Nn03011iCEMV/umpwn+/z8xvP844Bm4Pkl7HvrjxncCaKFcYcRMNVTY1NrLF/NfA==' (Size = 500) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedById], [r].[CreatedByIp], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[ModifiedById], [r].[ReplacedByToken], [r].[RevokedAt], [r].[RevokedByIp], [r].[Token], [r].[UpdatedAt], [r].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [RefreshTokens] AS [r]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Token] = @refreshToken {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000085","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.654 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@refreshToken='E/iFfIfnqlDiuqmb2izbH6Nn03011iCEMV/umpwn+/z8xvP844Bm4Pkl7HvrjxncCaKFcYcRMNVTY1NrLF/NfA==' (Size = 500) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedById], [r].[CreatedByIp], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[ModifiedById], [r].[ReplacedByToken], [r].[RevokedAt], [r].[RevokedByIp], [r].[Token], [r].[UpdatedAt], [r].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [RefreshTokens] AS [r]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[Token] = @refreshToken {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000087","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.684 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@userId='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000085","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.698 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@userId='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000087","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.756 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p5='1020', @p0='True', @p1='o1YH3+OIUV3jzWVHBi+oDTo5PAL7g8TnucNYmz3kMcfYDFqUl/tOSgM06T4Ceg25Mg/DhUQzmyvXlOuX8anBRA==' (Size = 500) (DbType = AnsiString), @p2='2026-02-16T04:00:20.7228807Z' (Nullable = true), @p3='::1' (Size = 50) (DbType = AnsiString), @p4='2026-02-16T04:00:20.7242342Z' (Nullable = true), @p6='2026-02-16T04:00:20.7242324Z', @p7=NULL (DbType = Int32), @p8='::1' (Size = 50) (DbType = AnsiString), @p9='2026-02-23T04:00:20.7234770Z', @p10='False', @p11=NULL (DbType = Int32), @p12=NULL (Size = 500) (DbType = AnsiString), @p13=NULL (DbType = DateTime2), @p14=NULL (Size = 50) (DbType = AnsiString), @p15='o1YH3+OIUV3jzWVHBi+oDTo5PAL7g8TnucNYmz3kMcfYDFqUl/tOSgM06T4Ceg25Mg/DhUQzmyvXlOuX8anBRA==' (Nullable = false) (Size = 500) (DbType = AnsiString), @p16=NULL (DbType = DateTime2), @p17='6'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [ReplacedByToken] = @p1, [RevokedAt] = @p2, [RevokedByIp] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedById], [CreatedByIp], [ExpiresAt], [IsDeleted], [ModifiedById], [ReplacedByToken], [RevokedAt], [RevokedByIp], [Token], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRevoked]
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000085","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.801 +01:00 [INF] Token refreshed for user 6 {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000085","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.801 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p5='1020', @p0='True', @p1='YM2kYeim112SgmwOoCoxhsoBTO53gr/Aj9bcTSIYxskIyTJQCHfwxlg2w7UtJwgehM5xA5DSWoouMYyS1xrPBA==' (Size = 500) (DbType = AnsiString), @p2='2026-02-16T04:00:20.7758244Z' (Nullable = true), @p3='::1' (Size = 50) (DbType = AnsiString), @p4='2026-02-16T04:00:20.7762771Z' (Nullable = true), @p6='2026-02-16T04:00:20.7762752Z', @p7=NULL (DbType = Int32), @p8='::1' (Size = 50) (DbType = AnsiString), @p9='2026-02-23T04:00:20.7758263Z', @p10='False', @p11=NULL (DbType = Int32), @p12=NULL (Size = 500) (DbType = AnsiString), @p13=NULL (DbType = DateTime2), @p14=NULL (Size = 50) (DbType = AnsiString), @p15='YM2kYeim112SgmwOoCoxhsoBTO53gr/Aj9bcTSIYxskIyTJQCHfwxlg2w7UtJwgehM5xA5DSWoouMYyS1xrPBA==' (Nullable = false) (Size = 500) (DbType = AnsiString), @p16=NULL (DbType = DateTime2), @p17='6'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [ReplacedByToken] = @p1, [RevokedAt] = @p2, [RevokedByIp] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedById], [CreatedByIp], [ExpiresAt], [IsDeleted], [ModifiedById], [ReplacedByToken], [RevokedAt], [RevokedByIp], [Token], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRevoked]
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000087","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.808 +01:00 [INF] Token refreshed successfully from IP: ::1 {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000085","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.820 +01:00 [INF] Token refreshed for user 6 {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000087","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.825 +01:00 [INF] HTTP POST /api/v1.0/auth/refresh-token responded 200 in 321.1043 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000085","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.864 +01:00 [INF] Token refreshed successfully from IP: ::1 {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"7a970af8-9c47-431f-b910-3c920548a0a5","ActionName":"AudioStore.Api.Controllers.AuthController.RefreshToken (AudioStore.Api)","RequestId":"0HNJD10HI98LR:00000087","RequestPath":"/api/v1.0/auth/refresh-token","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.912 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0157 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000089","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.923 +01:00 [INF] HTTP POST /api/v1.0/auth/refresh-token responded 200 in 374.9221 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:00000087","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.943 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":98,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.952 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0166 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000008D","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.963 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.968 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:20.994 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:21.010 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:21.028 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:21.033 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:21.047 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 79.2117 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000008F","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:21.067 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:21.088 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:00:21.132 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LR:0000008B","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:00:21.147 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 204.2925 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LR:0000008B","ConnectionId":"0HNJD10HI98LR","MachineName":"MOHAMEDMOUSA","ThreadId":97,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.459 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0279 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000003","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.459 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000001","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.459 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0256 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000005","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.481 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.493 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.527 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.562 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.604 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:37:09.645 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.648 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 167.8627 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000007","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.651 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.686 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:37:09.706 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.723 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 230.4616 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000009","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:37:09.769 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:37:09.788 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 137.9477 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000000B","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.162 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0259 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000000D","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.163 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0195 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000000F","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.189 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.217 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.253 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.271 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.277 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.306 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.306 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.329 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.339 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 123.2686 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000013","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.357 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.411 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:00.455 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:00.475 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 286.4671 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000011","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.167 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0496 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000015","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.169 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0682 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000019","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.168 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0185 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000017","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.199 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.219 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.259 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.277 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.328 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.405 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:01.449 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:01.472 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 253.4777 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000001D","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.474 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.488 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 289.3985 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000001B","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:01.559 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:01.568 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 94.7589 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000001F","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.731 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.731 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000023","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.783 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000023","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.860 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000023","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.896 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.931 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 200.4473 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000023","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:02.997 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:03.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:03.063 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000021","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:03.075 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 344.9758 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000021","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:03.715 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0217 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000025","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:03.740 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:03.776 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:03.813 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='0', @p1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:03.851 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 111.2455 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000027","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.203 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/customers responded 204 in 0.0265 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000029","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.203 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/customers/summary responded 204 in 0.0138 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000002B","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.227 +01:00 [INF] Admin getting customers {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002D","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.236 +01:00 [INF] Admin getting customer summary {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.310 +01:00 [ERR] Error getting customers {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002D","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
AsyncStateMachineBox`1 -> IEnumerable`1
System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[AudioStore.Domain.Entities.User, AudioStore.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[AudioStore.Infrastructure.Repositories.UserRepository+<GetCustomersWithOrdersAsync>d__22, AudioStore.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[AudioStore.Common.DTOs.Admin.CustomerManagement.CustomerListItemDTO, AudioStore.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method1981(Closure, Object, IEnumerable`1, ResolutionContext)
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomersAsync(CustomerFilterDTO filter) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 95
2026-02-16 05:42:05.310 +01:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u0].[UserId], [u0].[RoleId], [r].[Id], [o0].[Id], [o0].[CreatedAt], [o0].[CreatedById], [o0].[CustomerEmail], [o0].[CustomerFirstName], [o0].[CustomerLastName], [o0].[CustomerPhone], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[Notes], [o0].[OrderDate], [o0].[OrderNumber], [o0].[PaymentMethod], [o0].[ShippingCity], [o0].[ShippingCost], [o0].[ShippingCountry], [o0].[ShippingPostalCode], [o0].[ShippingStreet], [o0].[Status], [o0].[Subtotal], [o0].[Tax], [o0].[TotalAmount], [o0].[UpdatedAt], [o0].[UserId]
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
LEFT JOIN (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
) AS [o0] ON [u].[Id] = [o0].[UserId]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer'
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId], [r].[Id] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002D","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.333 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 05:42:05.333 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.355 +01:00 [INF] HTTP GET /api/v1.0/admin/customers responded 400 in 128.2844 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000002D","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.426 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 05:42:05.544 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt], [s].[CreatedById], [s].[Email], [s].[EmailConfirmed], [s].[FirstName], [s].[IsActive], [s].[IsDeleted], [s].[LastName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[ModifiedById], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RegistrationDate], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt], [s].[UserName], [s].[UserId], [s].[RoleId], [s].[Id0], [o2].[Id], [o2].[CreatedAt], [o2].[CreatedById], [o2].[CustomerEmail], [o2].[CustomerFirstName], [o2].[CustomerLastName], [o2].[CustomerPhone], [o2].[IsDeleted], [o2].[ModifiedById], [o2].[Notes], [o2].[OrderDate], [o2].[OrderNumber], [o2].[PaymentMethod], [o2].[ShippingCity], [o2].[ShippingCost], [o2].[ShippingCountry], [o2].[ShippingPostalCode], [o2].[ShippingStreet], [o2].[Status], [o2].[Subtotal], [o2].[Tax], [o2].[TotalAmount], [o2].[UpdatedAt], [o2].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u0].[UserId], [u0].[RoleId], [r].[Id] AS [Id0], (
        SELECT COALESCE(SUM([o0].[TotalAmount]), 0.0)
        FROM [Orders] AS [o0]
        WHERE [o0].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = [o0].[UserId]) AS [c]
    FROM [Users] AS [u]
    INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' AND EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = [o].[UserId])
    ORDER BY (
        SELECT COALESCE(SUM([o0].[TotalAmount]), 0.0)
        FROM [Orders] AS [o0]
        WHERE [o0].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = [o0].[UserId]) DESC
) AS [s]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId]
    FROM [Orders] AS [o1]
    WHERE [o1].[IsDeleted] = CAST(0 AS bit)
) AS [o2] ON [s].[Id] = [o2].[UserId]
ORDER BY [s].[c] DESC, [s].[Id], [s].[UserId], [s].[RoleId], [s].[Id0] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.598 +01:00 [ERR] Error getting customer summary {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000002F","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Infrastructure.Repositories.UserRepository.GetActiveCustomersThisMonthAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Repositories\UserRepository.cs:line 252
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomerSummaryAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 48
2026-02-16 05:42:05.611 +01:00 [INF] HTTP GET /api/v1.0/admin/customers/summary responded 400 in 375.3579 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000002F","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.931 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.932 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000033","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.954 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:05.981 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000033","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:06.017 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:06.030 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000033","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:06.035 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 104.2271 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000031","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:06.037 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000035","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:06.072 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000033","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:06.088 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000035","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:06.103 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 171.3586 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000033","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:06.144 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000035","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:42:06.166 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 129.6531 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000035","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:07.135 +01:00 [INF] Admin getting customers {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000037","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:07.137 +01:00 [INF] Admin getting customer summary {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000039","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:07.239 +01:00 [ERR] Error getting customers {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000037","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
AsyncStateMachineBox`1 -> IEnumerable`1
System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[AudioStore.Domain.Entities.User, AudioStore.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[AudioStore.Infrastructure.Repositories.UserRepository+<GetCustomersWithOrdersAsync>d__22, AudioStore.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[AudioStore.Common.DTOs.Admin.CustomerManagement.CustomerListItemDTO, AudioStore.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method1981(Closure, Object, IEnumerable`1, ResolutionContext)
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomersAsync(CustomerFilterDTO filter) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 95
2026-02-16 05:42:07.239 +01:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName], [u0].[UserId], [u0].[RoleId], [r].[Id], [o0].[Id], [o0].[CreatedAt], [o0].[CreatedById], [o0].[CustomerEmail], [o0].[CustomerFirstName], [o0].[CustomerLastName], [o0].[CustomerPhone], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[Notes], [o0].[OrderDate], [o0].[OrderNumber], [o0].[PaymentMethod], [o0].[ShippingCity], [o0].[ShippingCost], [o0].[ShippingCountry], [o0].[ShippingPostalCode], [o0].[ShippingStreet], [o0].[Status], [o0].[Subtotal], [o0].[Tax], [o0].[TotalAmount], [o0].[UpdatedAt], [o0].[UserId]
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
LEFT JOIN (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
) AS [o0] ON [u].[Id] = [o0].[UserId]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer'
ORDER BY [u].[Id], [u0].[UserId], [u0].[RoleId], [r].[Id] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b5d8ff78-6db0-4737-b9c5-408fe792b93f","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomers (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000037","RequestPath":"/api/v1.0/admin/customers","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:07.258 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000039","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:07.258 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000039","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 05:42:07.274 +01:00 [INF] HTTP GET /api/v1.0/admin/customers responded 400 in 139.5972 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000037","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:07.373 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000039","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:42:07.373 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000039","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-16 05:42:07.508 +01:00 [ERR] Error getting customer summary {"SourceContext":"AudioStore.Application.Services.Implementations.CustomerManagementService","ActionId":"8a616ed3-deca-4890-8b64-ea10a17b174d","ActionName":"AudioStore.Api.Controllers.AdminController.GetCustomerSummary (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000039","RequestPath":"/api/v1.0/admin/customers/summary","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Infrastructure.Repositories.UserRepository.GetActiveCustomersThisMonthAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Repositories\UserRepository.cs:line 252
   at AudioStore.Application.Services.Implementations.CustomerManagementService.GetCustomerSummaryAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CustomerManagementService.cs:line 48
2026-02-16 05:42:07.519 +01:00 [INF] HTTP GET /api/v1.0/admin/customers/summary responded 400 in 382.8588 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000039","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.191 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0371 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000003B","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.192 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.2600 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000003D","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.216 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.225 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000041","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.241 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000041","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.262 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.296 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000041","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.300 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.337 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 111.8528 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000041","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.353 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.377 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.406 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:44:37.447 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000003F","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:44:37.464 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 247.6968 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000003F","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:38.338 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.0170 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000045","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:38.338 +01:00 [INF] HTTP OPTIONS /api/v1.0/profile/addresses responded 204 in 0.0072 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000043","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:38.357 +01:00 [INF] HTTP GET /api/v1.0/orders responded 401 in 5.5439 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000047","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:38.359 +01:00 [INF] HTTP GET /api/v1.0/profile/addresses responded 401 in 0.1882 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000049","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.415 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000004B","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.424 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0278 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000004F","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.422 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0284 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000004D","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.423 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0189 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000051","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.463 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000055","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.448 +01:00 [INF] Getting cart for user: null or session: 2a646a1e-2dd5-465f-802c-fadba7f44b45 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000053","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.508 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000055","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.484 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000059","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.473 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.576 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@sessionId='2a646a1e-2dd5-465f-802c-fadba7f44b45' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000053","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.618 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000055","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:46:47.624 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000059","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.646 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.696 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 233.0930 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000055","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.687 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='2026-02-16T04:46:47.6794510Z', @p1=NULL (DbType = Int32), @p2=NULL (DbType = Int32), @p3='2a646a1e-2dd5-465f-802c-fadba7f44b45' (Size = 100) (DbType = AnsiString), @p4=NULL (DbType = DateTime2), @p5=NULL (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([CreatedAt], [CreatedById], [ModifiedById], [SessionId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[CartID], INSERTED.[IsActive], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000053","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.762 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000059","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:46:47.787 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.817 +01:00 [INF] New cart created - UserId: null, SessionId: 2a646a1e-2dd5-465f-802c-fadba7f44b45 {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000053","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.847 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 363.0482 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000059","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.902 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:46:47.908 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 460.1133 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000053","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:46:47.922 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 448.6794 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000057","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.911 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0238 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000005B","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.916 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0176 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000005D","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.916 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0064 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000005F","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.916 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0075 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000061","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.931 +01:00 [INF] Getting cart for user: null or session: 2a646a1e-2dd5-465f-802c-fadba7f44b45 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000063","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.935 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000065","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.943 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000067","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.953 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000069","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.981 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000065","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.986 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@sessionId='2a646a1e-2dd5-465f-802c-fadba7f44b45' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c7008188-3d2d-444b-8407-7744ffc177fd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000063","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:03.991 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000067","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:04.030 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000069","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:04.045 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000065","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:04.067 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 136.3134 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000063","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:04.162 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"caab92a2-3e10-4dd3-8786-619df468c199","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000069","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:47:04.121 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9890a3bd-68a7-424a-96f3-a24f7954e9d4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000067","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:47:04.196 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"91bff9e2-2671-4f82-9f84-b1a8f5b336e4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000065","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:47:04.215 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 262.5353 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000069","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:04.227 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 283.6517 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000067","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:04.253 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 318.2957 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000065","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.716 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/login responded 204 in 0.2520 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000006B","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.743 +01:00 [INF] Login attempt for email: muosa@admin.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000006D","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.773 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedEmail='MUOSA@ADMIN.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000006D","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.888 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@userId='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000006D","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.915 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='2026-02-16T04:47:31.9083226Z', @p1=NULL (DbType = Int32), @p2='127.0.0.1' (Size = 50) (DbType = AnsiString), @p3='2026-02-23T04:47:31.9079605Z', @p4='False', @p5=NULL (DbType = Int32), @p6=NULL (Size = 500) (DbType = AnsiString), @p7=NULL (DbType = DateTime2), @p8=NULL (Size = 50) (DbType = AnsiString), @p9='QF0gfzwROa7O0d1IveX/htOEpB2YSyQ/ZZo9hrFtkzijtpIeO6SwtzRsPL2ogf//Z7UwZTmSDNTTcbU9WmH6UQ==' (Nullable = false) (Size = 500) (DbType = AnsiString), @p10=NULL (DbType = DateTime2), @p11='6'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedById], [CreatedByIp], [ExpiresAt], [IsDeleted], [ModifiedById], [ReplacedByToken], [RevokedAt], [RevokedByIp], [Token], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000006D","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.945 +01:00 [INF] User 6 logged in successfully {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000006D","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.960 +01:00 [INF] User logged in successfully: muosa@admin.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"0b3f73df-342b-48bc-8c82-33c82902643a","ActionName":"AudioStore.Api.Controllers.AuthController.Login (AudioStore.Api)","RequestId":"0HNJD10HI98LV:0000006D","RequestPath":"/api/v1.0/auth/login","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.975 +01:00 [INF] HTTP POST /api/v1.0/auth/login responded 200 in 233.2525 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000006D","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:31.999 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/merge responded 204 in 0.0601 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:0000006F","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.042 +01:00 [INF] HTTP POST /api/v1.0/cart/merge responded 400 in 8.8737 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000071","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.062 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0433 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000075","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.059 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0395 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000073","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.126 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000077","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.157 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.194 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000077","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.229 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000077","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.232 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.248 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 122.5851 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000077","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.271 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.306 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.353 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.404 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:47:32.450 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98LV:00000079","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:47:32.456 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 299.3890 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98LV:00000079","ConnectionId":"0HNJD10HI98LV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.566 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.2425 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000001","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.567 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0218 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000003","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.590 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.597 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.627 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.636 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.656 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.684 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000007","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.688 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.702 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 106.1000 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000007","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.721 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.746 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.771 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:25.806 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000005","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:52:25.816 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 226.2146 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000005","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.463 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.465 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000000B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.507 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.537 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000000B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.572 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.647 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000000B","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.655 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.676 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 211.7381 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000000B","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.697 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.724 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.752 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:28.801 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000009","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:52:28.811 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 348.8798 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000009","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.564 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0278 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000000D","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.565 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0238 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000000F","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.589 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.614 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.635 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.649 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.667 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.705 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000013","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.712 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.733 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 118.9150 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000013","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.759 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.794 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.823 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:46.869 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000011","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:52:46.895 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 306.7149 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000011","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.550 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.553 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000017","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.586 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.635 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000017","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.669 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.689 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000017","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.709 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.729 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 175.9948 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000017","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.746 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.770 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.802 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:52:49.878 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000015","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:52:49.898 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 348.4698 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000015","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.336 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0144 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000019","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.336 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0146 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000001B","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.354 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.363 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.376 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.394 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.424 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.485 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.490 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.514 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 151.3254 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000001F","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.532 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.558 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.587 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 05:55:30.641 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000001D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 05:55:30.651 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 297.2680 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000001D","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.781 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0185 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000021","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.787 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0204 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000023","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.803 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.809 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.858 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.870 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.880 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.915 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000027","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.918 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.941 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 132.3708 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000027","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":93,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:27.967 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:28.019 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:28.075 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:05:28.161 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000025","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 06:05:28.179 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 376.3115 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000025","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.586 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0304 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000029","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.588 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0250 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000002B","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":95,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.620 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.639 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.664 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.681 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":92,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.698 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.727 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002F","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.732 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":96,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.754 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 116.3025 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000002F","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.782 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.808 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.831 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:06:13.874 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:0000002D","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 06:06:13.883 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 263.5101 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:0000002D","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.415 +01:00 [INF] HTTP OPTIONS /api/v1.0/admin/dashboard responded 204 in 0.0353 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000031","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.437 +01:00 [INF] Admin getting dashboard statistics {"SourceContext":"AudioStore.Api.Controllers.AdminController","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.460 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/admin/all responded 204 in 0.0137 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000035","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.507 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Status] <> 4 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.516 +01:00 [INF] Admin getting all orders {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000037","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.538 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.557 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000037","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.565 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Status], [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit)
ORDER BY [o].[Status] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.587 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p='0', @p1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [o].[OrderDate] DESC
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[OrderDate] DESC, [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67b805da-e444-491a-b865-b49e90739ce9","ActionName":"AudioStore.Api.Controllers.OrdersController.GetAllOrders (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000037","RequestPath":"/api/v1.0/orders/admin/all","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.593 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
INNER JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[IsActive] = CAST(1 AS bit) AND [u].[IsDeleted] = CAST(0 AS bit) AND [r].[Name] = N'Customer' {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.609 +01:00 [INF] HTTP GET /api/v1.0/orders/admin/all responded 200 in 93.2209 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000037","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.632 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [o].[ProductId], [p0].[Name] AS [ProductName], [p0].[MainImage] AS [ProductImage], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[MainImage], [p].[Name]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [o].[ProductId], [p0].[Name], [p0].[MainImage]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.658 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='3'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@p) [p0].[CategoryId], [c].[Name] AS [CategoryName], COALESCE(SUM([o].[Quantity]), 0) AS [TotalQuantitySold], COALESCE(SUM([o].[Subtotal]), 0.0) AS [TotalRevenue]
FROM [OrderItems] AS [o]
INNER JOIN (
    SELECT [o0].[Id], [o0].[Status]
    FROM [Orders] AS [o0]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [o1] ON [o].[OrderId] = [o1].[Id]
INNER JOIN (
    SELECT [p].[ProductID], [p].[CategoryId]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [o].[ProductId] = [p0].[ProductID]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o1].[Status] <> 4
GROUP BY [p0].[CategoryId], [c].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-16 06:12:28.707 +01:00 [ERR] Error setting cache key: dashboard:summary: {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cf8b426a-a827-416c-b3b7-27175d97490e","ActionName":"AudioStore.Api.Controllers.AdminController.GetDashboardStats (AudioStore.Api)","RequestId":"0HNJD10HI98M2:00000033","RequestPath":"/api/v1.0/admin/dashboard","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-16 06:12:28.720 +01:00 [INF] HTTP GET /api/v1.0/admin/dashboard responded 200 in 283.1695 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJD10HI98M2:00000033","ConnectionId":"0HNJD10HI98M2","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
