2026-02-09 01:59:03.723 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:04.861 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.351 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.391 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.442 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.460 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.465 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.484 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.508 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.528 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.761 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.814 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.821 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.826 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.845 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.885 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.909 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:06.916 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:07.085 +01:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:07.095 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:07.098 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:07.447 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.441 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 4.9355 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000001","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.456 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.3418 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000005","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.457 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.5065 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000007","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.460 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0598 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000003","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.755 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"f7f0dbc3-6eb8-4b57-9114-b6c15fc2b8e0","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.779 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.780 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7f0dbc3-6eb8-4b57-9114-b6c15fc2b8e0","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.791 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.802 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:14.844 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.042 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:15.116 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.198 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.206 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 643.0730 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000000D","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.230 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7f0dbc3-6eb8-4b57-9114-b6c15fc2b8e0","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.296 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.441 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:15.534 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:15.603 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 1116.1442 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000000B","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.633 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 1161.2534 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000009","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:15.657 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 1071.6603 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000000F","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:27.447 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.1950 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000011","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:27.511 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"81969f90-a173-45b2-99af-df6da9a1e2d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:27.595 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"81969f90-a173-45b2-99af-df6da9a1e2d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:27.708 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"81969f90-a173-45b2-99af-df6da9a1e2d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000013","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:27.724 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 234.3438 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000013","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:29.937 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0937 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000015","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:29.937 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0635 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000017","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:29.938 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0893 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000019","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:29.968 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:29.990 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.012 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.030 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.045 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.064 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.094 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.155 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:30.197 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:30.238 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:30.248 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 258.2231 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000001D","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.254 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 242.8202 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000001F","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:30.259 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 293.7020 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000001B","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:31.867 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/2 responded 204 in 0.1695 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000021","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:31.882 +01:00 [INF] Getting product by ID: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"81969f90-a173-45b2-99af-df6da9a1e2d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000023","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:31.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"81969f90-a173-45b2-99af-df6da9a1e2d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000023","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:31.955 +01:00 [ERR] Error setting cache key: products:id:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"81969f90-a173-45b2-99af-df6da9a1e2d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000023","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:31.969 +01:00 [INF] HTTP GET /api/v1.0/products/2 responded 200 in 87.1853 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000023","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.306 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0913 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000025","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.306 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0608 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000027","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.306 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0492 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000029","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.344 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.366 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.376 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.387 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.394 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.406 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.421 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.458 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"013e9677-5efc-4d3b-a60d-49523b096d6f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:35.529 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6d920ac8-1a50-43b1-91b8-2f918f2618f3","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:35.611 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"66324719-fb3b-4f69-a64f-688ace20d2df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:0000002B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 01:59:35.632 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 266.2635 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000002D","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.642 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 267.2407 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000002F","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:35.655 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 313.4393 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:0000002B","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:37.790 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.2105 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000031","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:37.805 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7f0dbc3-6eb8-4b57-9114-b6c15fc2b8e0","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000033","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:37.821 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7f0dbc3-6eb8-4b57-9114-b6c15fc2b8e0","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000033","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 01:59:37.851 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 47.0208 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000033","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:00:12.461 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.0860 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000035","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:00:12.543 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"d61431b5-0308-4651-afec-f761d7f6ccc4","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000037","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:00:12.631 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"d61431b5-0308-4651-afec-f761d7f6ccc4","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000037","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-09 02:00:12.885 +01:00 [ERR] Error creating order {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d61431b5-0308-4651-afec-f761d7f6ccc4","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7EPMQARQ8:00000037","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Application.Services.Implementations.OrderService.GenerateOrderNumberAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 445
   at AudioStore.Application.Services.Implementations.OrderService.CreateOrderAsync(CreateOrderDTO dto) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 46
2026-02-09 02:00:12.915 +01:00 [INF] HTTP POST /api/v1.0/orders responded 400 in 428.9088 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7EPMQARQ8:00000037","ConnectionId":"0HNJ7EPMQARQ8","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:15:51.960 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:15:57.826 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.376 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.445 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.548 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.600 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.616 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.643 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.680 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:00.699 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.183 +01:00 [INF] Executed DbCommand (68ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.275 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.295 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.340 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.398 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.455 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.502 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.522 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.549 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.569 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:01.586 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:02.094 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:12.086 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 9.3758 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000003","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:12.086 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 9.3637 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000005","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:12.086 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 9.4302 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000007","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:12.086 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 9.3944 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000001","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:14.826 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"ae3cdff9-625f-48ef-8f4e-7400610f7425","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:14.878 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"90b4602e-049d-48d7-bf1a-4391bb5328be","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:14.881 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"ae3cdff9-625f-48ef-8f4e-7400610f7425","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:14.892 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"86b15426-60fd-4a84-813a-aeca266e79df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:14.904 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:14.943 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90b4602e-049d-48d7-bf1a-4391bb5328be","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.117 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"90b4602e-049d-48d7-bf1a-4391bb5328be","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:16:15.166 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.180 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 3028.9786 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:0000000D","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.188 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"86b15426-60fd-4a84-813a-aeca266e79df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.209 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ae3cdff9-625f-48ef-8f4e-7400610f7425","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.265 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.401 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"86b15426-60fd-4a84-813a-aeca266e79df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:16:15.432 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:16:15.458 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 3319.4783 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:0000000B","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.462 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 3298.3885 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:0000000F","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:15.466 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 3338.1309 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000009","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.710 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0779 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000011","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.717 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0820 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000013","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.717 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0354 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000017","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.717 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0764 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000015","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.734 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"ae3cdff9-625f-48ef-8f4e-7400610f7425","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000019","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.745 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.754 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"90b4602e-049d-48d7-bf1a-4391bb5328be","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.764 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"86b15426-60fd-4a84-813a-aeca266e79df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ae3cdff9-625f-48ef-8f4e-7400610f7425","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000019","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.797 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90b4602e-049d-48d7-bf1a-4391bb5328be","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.824 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"86b15426-60fd-4a84-813a-aeca266e79df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.839 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 105.1256 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000019","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:30.979 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"86b15426-60fd-4a84-813a-aeca266e79df","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:16:30.928 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"90b4602e-049d-48d7-bf1a-4391bb5328be","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:16:31.029 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e4696aa6-44f7-4b53-ad52-b1a28ecd9b89","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:16:31.060 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 296.2095 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:0000001F","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:31.085 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 331.2595 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:0000001D","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:31.107 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 364.3544 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:0000001B","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:32.727 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"ae3cdff9-625f-48ef-8f4e-7400610f7425","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000021","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:32.740 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ae3cdff9-625f-48ef-8f4e-7400610f7425","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000021","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:32.760 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 35.0550 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000021","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.649 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.2341 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000023","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.730 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.757 +01:00 [INF]  Starting order creation - UserId: null, Items count: 2 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.777 +01:00 [INF]  Items validation passed - 2 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.805 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.849 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.886 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.933 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.983 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:49.997 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:50.005 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:50.016 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:50.027 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:50.051 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:50.067 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:16:50.110 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-09 02:16:50.336 +01:00 [ERR]  CRITICAL ERROR creating order - Exception Type: InvalidOperationException, Message: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit. {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000025","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Application.Services.Implementations.OrderService.GenerateOrderNumberAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 505
   at AudioStore.Application.Services.Implementations.OrderService.CreateOrderAsync(CreateOrderDTO dto) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 66
2026-02-09 02:16:50.381 +01:00 [INF] HTTP POST /api/v1.0/orders responded 400 in 709.7363 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000025","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.307 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.1290 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000027","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.337 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.351 +01:00 [INF]  Starting order creation - UserId: null, Items count: 2 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.362 +01:00 [INF]  Items validation passed - 2 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.371 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.381 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.393 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.402 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.413 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.421 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.466 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.484 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.518 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.531 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.566 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:19:44.599 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-09 02:19:44.746 +01:00 [ERR]  CRITICAL ERROR creating order - Exception Type: InvalidOperationException, Message: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit. {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"55344eff-9e90-4d3e-b789-af02c40c8b03","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F3578LF5:00000029","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Application.Services.Implementations.OrderService.GenerateOrderNumberAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 505
   at AudioStore.Application.Services.Implementations.OrderService.CreateOrderAsync(CreateOrderDTO dto) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 66
2026-02-09 02:19:44.762 +01:00 [INF] HTTP POST /api/v1.0/orders responded 400 in 425.5752 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F3578LF5:00000029","ConnectionId":"0HNJ7F3578LF5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:03.545 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:04.533 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:04.956 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:04.990 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.054 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.068 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.082 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.089 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.287 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.332 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.338 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.343 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.365 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.399 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.422 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.428 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.445 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.450 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.453 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:05.837 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:15.745 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 7.0704 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000007","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:15.745 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 6.7776 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000003","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:15.745 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 6.8606 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000001","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:15.745 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 6.8250 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000005","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:15.967 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"ab394061-9640-4c3e-8300-a512889f006e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.022 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"2d0e9757-f39a-43ae-8c4f-fe67dcacdc35","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.023 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"ab394061-9640-4c3e-8300-a512889f006e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.047 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"dcca05d1-de4d-49a5-9b24-b57ac0e544ae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.061 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"c4e742de-0c1f-4676-86e8-20939cdfd4ab","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.103 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2d0e9757-f39a-43ae-8c4f-fe67dcacdc35","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.224 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"2d0e9757-f39a-43ae-8c4f-fe67dcacdc35","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:20:16.269 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e742de-0c1f-4676-86e8-20939cdfd4ab","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.294 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 520.1823 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000009","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.295 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dcca05d1-de4d-49a5-9b24-b57ac0e544ae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.328 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab394061-9640-4c3e-8300-a512889f006e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.337 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e742de-0c1f-4676-86e8-20939cdfd4ab","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.434 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"dcca05d1-de4d-49a5-9b24-b57ac0e544ae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:20:16.507 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"c4e742de-0c1f-4676-86e8-20939cdfd4ab","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:20:16.531 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 711.2604 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:0000000F","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.533 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 755.8265 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:0000000B","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:16.539 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 752.3994 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:0000000D","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:18.220 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"ab394061-9640-4c3e-8300-a512889f006e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:18.243 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab394061-9640-4c3e-8300-a512889f006e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:18.286 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 68.8579 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000011","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.362 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.2098 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000013","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.448 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.462 +01:00 [INF]  Starting order creation - UserId: null, Items count: 2 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.472 +01:00 [INF]  Items validation passed - 2 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.479 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.490 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.496 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.506 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.512 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.523 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.534 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.546 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.556 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.571 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.604 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:20:23.695 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-09 02:20:23.965 +01:00 [ERR]  CRITICAL ERROR creating order - Exception Type: InvalidOperationException, Message: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit. {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"51935d93-0a3d-4bc7-8785-4e95a401a4bf","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F5DT3VRU:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Application.Services.Implementations.OrderService.GenerateOrderNumberAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 505
   at AudioStore.Application.Services.Implementations.OrderService.CreateOrderAsync(CreateOrderDTO dto) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 66
2026-02-09 02:20:24.005 +01:00 [INF] HTTP POST /api/v1.0/orders responded 400 in 618.4550 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F5DT3VRU:00000015","ConnectionId":"0HNJ7F5DT3VRU","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:43.314 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.270 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.622 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.653 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.706 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.723 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.730 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.742 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.758 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.767 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:44.960 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.002 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.007 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.013 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.032 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.062 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.081 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.086 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.100 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.105 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.107 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:45.292 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.204 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 3.4266 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000003","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.204 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 3.4456 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000001","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.204 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 3.4120 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000005","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.204 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 3.4347 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000007","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.517 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"edba6e57-93a0-4de9-ade0-bc21959c3136","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.556 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"f2204cdd-d0fb-4d9d-8a7b-73bea421ad6b","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.558 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"edba6e57-93a0-4de9-ade0-bc21959c3136","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.565 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"2c04cdf2-e3b8-4fec-be1c-fc1651f4b994","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.573 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"70a7377e-de57-4011-a0b1-5586488412b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.622 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2204cdd-d0fb-4d9d-8a7b-73bea421ad6b","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.761 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"f2204cdd-d0fb-4d9d-8a7b-73bea421ad6b","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:21:59.816 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 491.5110 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:0000000F","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.823 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"70a7377e-de57-4011-a0b1-5586488412b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.880 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2c04cdf2-e3b8-4fec-be1c-fc1651f4b994","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.906 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edba6e57-93a0-4de9-ade0-bc21959c3136","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:21:59.922 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"70a7377e-de57-4011-a0b1-5586488412b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:00.004 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"2c04cdf2-e3b8-4fec-be1c-fc1651f4b994","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:22:00.097 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"70a7377e-de57-4011-a0b1-5586488412b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:22:00.120 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 892.4867 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000009","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:00.127 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 843.2976 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:0000000D","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:00.131 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 898.9985 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:0000000B","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:01.747 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"edba6e57-93a0-4de9-ade0-bc21959c3136","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:01.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edba6e57-93a0-4de9-ade0-bc21959c3136","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:01.801 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 56.6449 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000011","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.133 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.1043 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000013","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.212 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.235 +01:00 [INF]  Starting order creation - UserId: null, Items count: 2 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.253 +01:00 [INF]  Items validation passed - 2 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.269 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.283 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.303 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.322 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.342 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.361 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.393 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.410 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.419 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.434 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.451 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:05.495 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-09 02:22:05.672 +01:00 [ERR]  CRITICAL ERROR creating order - Exception Type: InvalidOperationException, Message: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit. {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"d26ab926-9cb9-4dcd-a8ec-3df158a68a1e","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7F6BEP01T:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Application.Services.Implementations.OrderService.GenerateOrderNumberAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 505
   at AudioStore.Application.Services.Implementations.OrderService.CreateOrderAsync(CreateOrderDTO dto) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 66
2026-02-09 02:22:05.691 +01:00 [INF] HTTP POST /api/v1.0/orders responded 400 in 543.1747 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6BEP01T:00000015","ConnectionId":"0HNJ7F6BEP01T","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:34.075 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.122 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.578 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.611 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.655 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.670 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.675 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.688 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.700 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.707 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.896 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.941 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.946 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.950 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:35.972 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:36.003 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:36.023 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:36.028 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:36.043 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:36.050 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:36.059 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:36.276 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.278 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 3.7382 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:00000001","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.278 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 3.5784 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:00000003","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.278 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 3.6835 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:00000005","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.278 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 3.7545 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:00000007","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.520 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"af67c772-d9bc-456d-bfa9-c8cb088541d8","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.550 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"05143fec-688a-41f2-aa77-b4a3b55c920f","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.551 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"af67c772-d9bc-456d-bfa9-c8cb088541d8","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.571 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"c2917ba8-88ae-4c77-a1a5-79978262a6e1","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.591 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"f4a40842-8f6c-4c30-98cc-dc2b6ceb5a79","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.645 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"05143fec-688a-41f2-aa77-b4a3b55c920f","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.763 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"05143fec-688a-41f2-aa77-b4a3b55c920f","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:22:45.829 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4a40842-8f6c-4c30-98cc-dc2b6ceb5a79","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.888 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2917ba8-88ae-4c77-a1a5-79978262a6e1","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.896 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 550.7251 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:0000000D","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.929 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"af67c772-d9bc-456d-bfa9-c8cb088541d8","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:45.975 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4a40842-8f6c-4c30-98cc-dc2b6ceb5a79","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:46.054 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"c2917ba8-88ae-4c77-a1a5-79978262a6e1","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:22:46.098 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"f4a40842-8f6c-4c30-98cc-dc2b6ceb5a79","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:22:46.166 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 808.2705 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:0000000F","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:46.189 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 876.4912 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:00000009","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:22:46.230 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 914.0173 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:0000000B","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:23:22.748 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0959 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:00000011","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:23:22.765 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"af67c772-d9bc-456d-bfa9-c8cb088541d8","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:00000013","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:23:22.819 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"af67c772-d9bc-456d-bfa9-c8cb088541d8","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7F6QO1493:00000013","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:23:22.927 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 164.3040 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7F6QO1493:00000013","ConnectionId":"0HNJ7F6QO1493","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:46.478 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.411 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.772 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.803 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.844 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.858 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.876 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:47.895 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.079 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.120 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.125 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.129 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.147 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.175 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.193 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.198 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.211 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.215 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.217 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:28:48.391 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.153 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 17.7226 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000005","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.153 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 17.6854 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000003","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.153 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 17.6580 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000001","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.153 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 17.6403 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000007","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.414 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"52703843-b0c4-4372-91c0-6ae67996fd5f","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.441 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"566b23d7-0a25-43c2-9794-29d99c982fac","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.442 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"52703843-b0c4-4372-91c0-6ae67996fd5f","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.456 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"f61b97f3-3f2d-4e7e-94f3-a50ba93cef01","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.447 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"49976530-def2-4458-85df-0ad23e64a6b2","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.523 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"566b23d7-0a25-43c2-9794-29d99c982fac","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.648 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"566b23d7-0a25-43c2-9794-29d99c982fac","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:29:29.696 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f61b97f3-3f2d-4e7e-94f3-a50ba93cef01","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.696 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 503.6901 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000009","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.727 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"49976530-def2-4458-85df-0ad23e64a6b2","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.791 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52703843-b0c4-4372-91c0-6ae67996fd5f","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.797 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f61b97f3-3f2d-4e7e-94f3-a50ba93cef01","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:29.924 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"49976530-def2-4458-85df-0ad23e64a6b2","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:29:30.056 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"f61b97f3-3f2d-4e7e-94f3-a50ba93cef01","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:29:30.115 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 918.4901 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:0000000B","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:30.133 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 908.6419 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:0000000D","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:30.133 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 890.4969 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:0000000F","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:31.902 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"52703843-b0c4-4372-91c0-6ae67996fd5f","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:31.921 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52703843-b0c4-4372-91c0-6ae67996fd5f","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:31.947 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 46.8832 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000011","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.758 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.1561 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000013","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.823 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.840 +01:00 [INF]  Starting order creation - UserId: null, Items count: 2 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.852 +01:00 [INF]  Items validation passed - 2 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.861 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.873 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.888 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.910 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.920 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.932 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.953 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.966 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:35.982 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:36.005 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:36.039 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:29:36.122 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AudioStore.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2026-02-09 02:29:36.259 +01:00 [ERR]  CRITICAL ERROR creating order - Exception Type: InvalidOperationException, Message: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit. {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"db7c7219-9437-4777-903c-054ffc66735a","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FA9IL341:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The configured execution strategy 'SqlServerRetryingExecutionStrategy' does not support user-initiated transactions. Use the execution strategy returned by 'DbContext.Database.CreateExecutionStrategy()' to execute all the operations in the transaction as a retriable unit.
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.OnFirstExecution()
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AudioStore.Application.Services.Implementations.OrderService.GenerateOrderNumberAsync() in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 505
   at AudioStore.Application.Services.Implementations.OrderService.CreateOrderAsync(CreateOrderDTO dto) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\OrderService.cs:line 66
2026-02-09 02:29:36.296 +01:00 [INF] HTTP POST /api/v1.0/orders responded 400 in 512.7700 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FA9IL341:00000015","ConnectionId":"0HNJ7FA9IL341","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:33.499 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.454 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.809 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.840 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.885 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.905 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.918 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.933 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:34.938 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.124 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.164 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.179 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.202 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.233 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.277 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.297 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.307 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.321 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.328 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.333 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:35.542 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.295 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 8.7288 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000005","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.295 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 8.6708 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000007","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.295 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 8.7054 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000001","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.295 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 8.7238 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000003","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.630 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"6d8b5a67-e4b2-4b7b-930e-ff319bfa3455","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.644 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"6d8b5a67-e4b2-4b7b-930e-ff319bfa3455","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.644 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"8013abbc-eaa2-4a81-8ef4-e4d05caa4222","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.654 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"d46fd53d-1406-473d-a2d8-acf7eea9b99b","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.665 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"45016e26-f620-402f-a651-929eb183d788","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.701 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d8b5a67-e4b2-4b7b-930e-ff319bfa3455","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.807 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6d8b5a67-e4b2-4b7b-930e-ff319bfa3455","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:35:53.830 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"45016e26-f620-402f-a651-929eb183d788","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.853 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 517.7666 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000009","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.865 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d46fd53d-1406-473d-a2d8-acf7eea9b99b","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.930 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8013abbc-eaa2-4a81-8ef4-e4d05caa4222","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:53.937 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"45016e26-f620-402f-a651-929eb183d788","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:54.152 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"d46fd53d-1406-473d-a2d8-acf7eea9b99b","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:35:54.206 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"45016e26-f620-402f-a651-929eb183d788","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:35:54.229 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 854.2028 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:0000000B","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:54.235 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 798.8676 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:0000000F","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:54.238 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 810.2699 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:0000000D","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:56.395 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"8013abbc-eaa2-4a81-8ef4-e4d05caa4222","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:56.457 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8013abbc-eaa2-4a81-8ef4-e4d05caa4222","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:35:56.515 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 124.5989 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000011","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.375 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.1502 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000013","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.458 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.495 +01:00 [INF]  Starting order creation - UserId: null, Items count: 2 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.521 +01:00 [INF]  Items validation passed - 2 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.547 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.565 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.582 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.605 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.620 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.629 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.637 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.648 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.655 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.666 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.673 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.720 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@Format_startswith='ORD-20260209%' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] LIKE @Format_startswith ESCAPE '\'
ORDER BY [o].[OrderNumber] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.734 +01:00 [INF]  Order number generated: ORD-20260209-00001 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.742 +01:00 [INF]  Retrieving customer info - IsAuthenticated: false {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.757 +01:00 [INF]  Customer info retrieved: Mohamed Mousa (mohamedellithy765@gmail.com) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.772 +01:00 [INF]  Creating order entity {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.784 +01:00 [INF]  Processing 2 order items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.795 +01:00 [INF]   - Processing item: ProductId=5, Quantity=2, UnitPrice=3500 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.827 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.841 +01:00 [INF]    Product found: ZX7 Speaker (Stock: 12, Available: true) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.866 +01:00 [INF]    Stock updated for ZX7 Speaker: New stock=10 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.876 +01:00 [INF]    Order item created: Subtotal=0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.900 +01:00 [INF]   - Processing item: ProductId=1, Quantity=1, UnitPrice=2999 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.919 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.935 +01:00 [INF]    Product found: XX99 Mark II Headphones (Stock: 15, Available: true) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.956 +01:00 [INF]    Stock updated for XX99 Mark II Headphones: New stock=14 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.980 +01:00 [INF]    Order item created: Subtotal=0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:01.990 +01:00 [INF]  Calculating order totals {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.019 +01:00 [INF]   - Subtotal: 0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.055 +01:00 [INF]   - Shipping: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.067 +01:00 [INF]   - Tax: 0.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.080 +01:00 [INF]   - Total: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.089 +01:00 [INF]  Saving order to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.346 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'. {"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.387 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='2026-02-09T01:36:02.2457218Z', @p1=NULL (DbType = Int32), @p2='mohamedellithy765@gmail.com' (Nullable = false) (Size = 255), @p3='Mohamed' (Nullable = false) (Size = 100), @p4='Mousa' (Nullable = false) (Size = 100), @p5='+393336863167' (Nullable = false) (Size = 20), @p6='False', @p7=NULL (DbType = Int32), @p8=NULL (Size = 500), @p9='2026-02-09T01:36:01.7832242Z', @p10='ORD-20260209-00001' (Nullable = false) (Size = 50) (DbType = AnsiString), @p11='Cash on Delivery' (Nullable = false) (Size = 50), @p12='Lucera' (Nullable = false) (Size = 100), @p13='5.00' (Precision = 18) (Scale = 2), @p14='Italy' (Nullable = false) (Size = 100), @p15='71036' (Nullable = false) (Size = 20), @p16='Localita Vaccarella, Villaggio Don Bosco' (Nullable = false) (Size = 200), @p17='1', @p18='0' (Precision = 18) (Scale = 2), @p19='0.00' (Precision = 18) (Scale = 2), @p20='5.00' (Precision = 18) (Scale = 2), @p21=NULL (DbType = DateTime2), @p22=NULL (DbType = Int32), @p42='1', @p23='AudioStore' (Nullable = false) (Size = 100), @p24='1', @p25='2026-01-26T02:29:23.1990615', @p26=NULL (DbType = Int32), @p27='The new XX99 Mark II headphones is the pinnacle of pristine audio. It redefines your premium headphone experience by reproducing the balanced depth and precision of studio-quality sound.' (Nullable = false) (Size = 2000), @p28='Featuring a genuine leather head strap and premium earcups, these headphones deliver superior comfort for those who like to enjoy endless listening. It includes intuitive controls designed for any situation.' (Size = 4000), @p29=NULL (Size = 4000), @p30='True', @p31='False', @p32='True', @p33='True', @p34='True', @p35='/images/products/xx99-mark-two-headphones.jpg' (Nullable = false) (Size = 500), @p36=NULL (DbType = Int32), @p37='XX99 Mark II Headphones' (Nullable = false) (Size = 200), @p38='2999.00' (Precision = 18) (Scale = 2), @p39='xx99-mark-ii-headphones' (Nullable = false) (Size = 250) (DbType = AnsiString), @p40='14', @p41='2026-02-09T01:36:02.2457276Z' (Nullable = true), @p62='5', @p43='AudioStore' (Nullable = false) (Size = 100), @p44='2', @p45='2026-01-26T02:29:23.1990617', @p46=NULL (DbType = Int32), @p47='Stream high quality sound wirelessly with minimal loss. The ZX7 bookshelf speaker uses high-end audiophile components that represents the top of the line powered speakers for home or studio use.' (Nullable = false) (Size = 2000), @p48='Reap the advantages of a flat diaphragm tweeter cone. This provides a fast response rate and excellent high frequencies that lower tiered bookshelf speakers cannot provide.' (Size = 4000), @p49=NULL (Size = 4000), @p50='True', @p51='False', @p52='True', @p53='False', @p54='True', @p55='/images/products/zx7-speaker.jpg' (Nullable = false) (Size = 500), @p56=NULL (DbType = Int32), @p57='ZX7 Speaker' (Nullable = false) (Size = 200), @p58='3500.00' (Precision = 18) (Scale = 2), @p59='zx7-speaker' (Nullable = false) (Size = 250) (DbType = AnsiString), @p60='10', @p61='2026-02-09T01:36:02.2457265Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedAt], [CreatedById], [CustomerEmail], [CustomerFirstName], [CustomerLastName], [CustomerPhone], [IsDeleted], [ModifiedById], [Notes], [OrderDate], [OrderNumber], [PaymentMethod], [ShippingCity], [ShippingCost], [ShippingCountry], [ShippingPostalCode], [ShippingStreet], [Status], [Subtotal], [Tax], [TotalAmount], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
UPDATE [Products] SET [Brand] = @p23, [CategoryId] = @p24, [CreatedAt] = @p25, [CreatedById] = @p26, [Description] = @p27, [Features] = @p28, [GalleryImages] = @p29, [IsAvailable] = @p30, [IsDeleted] = @p31, [IsFeatured] = @p32, [IsNewProduct] = @p33, [IsPublished] = @p34, [MainImage] = @p35, [ModifiedById] = @p36, [Name] = @p37, [Price] = @p38, [Slug] = @p39, [StockQuantity] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [ProductID] = @p42;
UPDATE [Products] SET [Brand] = @p43, [CategoryId] = @p44, [CreatedAt] = @p45, [CreatedById] = @p46, [Description] = @p47, [Features] = @p48, [GalleryImages] = @p49, [IsAvailable] = @p50, [IsDeleted] = @p51, [IsFeatured] = @p52, [IsNewProduct] = @p53, [IsPublished] = @p54, [MainImage] = @p55, [ModifiedById] = @p56, [Name] = @p57, [Price] = @p58, [Slug] = @p59, [StockQuantity] = @p60, [UpdatedAt] = @p61
OUTPUT 1
WHERE [ProductID] = @p62; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.437 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p63='2026-02-09T01:36:02.2457245Z', @p64=NULL (DbType = Int32), @p65=NULL (DbType = Int32), @p66='1', @p67='5', @p68='2', @p69='3500' (Precision = 18) (Scale = 2), @p70=NULL (DbType = DateTime2), @p71='2026-02-09T01:36:02.2457249Z', @p72=NULL (DbType = Int32), @p73=NULL (DbType = Int32), @p74='1', @p75='1', @p76='1', @p77='2999' (Precision = 18) (Scale = 2), @p78=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [OrderItems] USING (
VALUES (@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, 0),
(@p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, 1)) AS i ([CreatedAt], [CreatedById], [ModifiedById], [OrderId], [ProductId], [Quantity], [UnitPrice], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [CreatedById], [ModifiedById], [OrderId], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
VALUES (i.[CreatedAt], i.[CreatedById], i.[ModifiedById], i.[OrderId], i.[ProductId], i.[Quantity], i.[UnitPrice], i.[UpdatedAt])
OUTPUT INSERTED.[OrderItemID], INSERTED.[IsDeleted], INSERTED.[Subtotal], i._Position; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.475 +01:00 [INF]  Order saved to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.486 +01:00 [INF]  Transaction committed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.499 +01:00 [INF]  Order ORD-20260209-00001 created successfully - Total: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.513 +01:00 [INF]  Reloading order with includes for mapping {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.575 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@order_Id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Id] = @order_Id
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e99a357c-d944-4f05-992b-34a1d38b4c83","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:00000015","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.659 +01:00 [INF] HTTP POST /api/v1.0/orders responded 201 in 1265.5703 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000015","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.699 +01:00 [INF] HTTP GET /api/v1.0/orders responded 401 in 7.7582 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000017","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.714 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/clear responded 204 in 0.0570 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:00000019","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.748 +01:00 [INF] Clearing cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"51a405b6-46e5-4a2d-85f5-bd674c96cb5e","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000001B","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.767 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"51a405b6-46e5-4a2d-85f5-bd674c96cb5e","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000001B","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.827 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='1', @p0='1', @p1='2026-02-06T14:57:05.5253030', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='5', @p6='2', @p7='3500.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T01:36:02.8144053Z' (Nullable = true), @p19='2', @p10='1', @p11='2026-02-06T17:11:32.6489401', @p12=NULL (DbType = Int32), @p13='True', @p14=NULL (DbType = Int32), @p15='1', @p16='1', @p17='2999.00' (Precision = 18) (Scale = 2), @p18='2026-02-09T01:36:02.8144071Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9;
UPDATE [CartItems] SET [CartId] = @p10, [CreatedAt] = @p11, [CreatedById] = @p12, [IsDeleted] = @p13, [ModifiedById] = @p14, [ProductId] = @p15, [Quantity] = @p16, [UnitPrice] = @p17, [UpdatedAt] = @p18
OUTPUT 1
WHERE [CartItemID] = @p19; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"51a405b6-46e5-4a2d-85f5-bd674c96cb5e","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000001B","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.850 +01:00 [INF] Cart cleared (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"51a405b6-46e5-4a2d-85f5-bd674c96cb5e","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FE2TAE9L:0000001B","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.859 +01:00 [INF] HTTP DELETE /api/v1.0/cart/clear responded 200 in 126.4749 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:0000001B","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.947 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00001 responded 204 in 0.0624 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:0000001D","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:36:02.957 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00001 responded 401 in 0.4999 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FE2TAE9L:0000001F","ConnectionId":"0HNJ7FE2TAE9L","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:57.455 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:58.532 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:58.931 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:58.964 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.007 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.022 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.030 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.052 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.058 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.254 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.292 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.297 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.301 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.349 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.364 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.371 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.379 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.384 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.386 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:44:59.654 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:15.721 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 3.5077 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000007","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:15.721 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 3.0864 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000005","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:15.721 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 3.0965 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000003","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:15.721 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 2.7017 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000001","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.045 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"98198da3-2871-44f5-b918-911b7d4016ec","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.067 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"c29ab2a0-2063-4e07-bea7-838946605da7","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.067 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"98198da3-2871-44f5-b918-911b7d4016ec","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.074 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a56e2ece-01ca-4b93-81f4-627c9124f7c0","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.083 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"04d29d75-5d28-479a-b50f-bf44acb8c780","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.112 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ab2a0-2063-4e07-bea7-838946605da7","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.218 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"c29ab2a0-2063-4e07-bea7-838946605da7","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:45:16.240 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"04d29d75-5d28-479a-b50f-bf44acb8c780","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.268 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 520.0080 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000009","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.271 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a56e2ece-01ca-4b93-81f4-627c9124f7c0","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.301 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"04d29d75-5d28-479a-b50f-bf44acb8c780","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.308 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98198da3-2871-44f5-b918-911b7d4016ec","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.476 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a56e2ece-01ca-4b93-81f4-627c9124f7c0","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:45:16.577 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"04d29d75-5d28-479a-b50f-bf44acb8c780","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:45:16.600 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 825.5014 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:0000000D","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.601 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 775.9414 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:0000000F","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:16.608 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 860.4169 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:0000000B","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:17.765 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.1009 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000011","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:17.821 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"bbcf8e77-b611-4c1d-bdb8-da4507787105","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:17.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bbcf8e77-b611-4c1d-bdb8-da4507787105","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:17.924 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bbcf8e77-b611-4c1d-bdb8-da4507787105","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:18.128 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='1', @p1='2026-02-09T01:45:18.0588275Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='5', @p5='1', @p6='3500.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bbcf8e77-b611-4c1d-bdb8-da4507787105","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:18.171 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"bbcf8e77-b611-4c1d-bdb8-da4507787105","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:18.187 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bbcf8e77-b611-4c1d-bdb8-da4507787105","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:18.229 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 437.5909 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000013","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:18.762 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"98198da3-2871-44f5-b918-911b7d4016ec","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:18.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98198da3-2871-44f5-b918-911b7d4016ec","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:18.792 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 33.0534 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000015","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.209 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.0525 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000017","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.241 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.258 +01:00 [INF]  Starting order creation - UserId: null, Items count: 1 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.270 +01:00 [INF]  Items validation passed - 1 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.283 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.291 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.302 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.314 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.322 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.340 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.352 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.364 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.374 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.385 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.397 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.442 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@Format_startswith='ORD-20260209%' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] LIKE @Format_startswith ESCAPE '\'
ORDER BY [o].[OrderNumber] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.486 +01:00 [INF]  Order number generated: ORD-20260209-00002 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.502 +01:00 [INF]  Retrieving customer info - IsAuthenticated: false {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.516 +01:00 [INF]  Customer info retrieved: Mohamed Mousa (mohamedellithy765@gmail.com) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.524 +01:00 [INF]  Creating order entity {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.538 +01:00 [INF]  Processing 1 order items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.554 +01:00 [INF]   - Processing item: ProductId=5, Quantity=1, UnitPrice=3500 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.604 +01:00 [INF]    Product found: ZX7 Speaker (Stock: 10, Available: true) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.619 +01:00 [INF]    Stock updated for ZX7 Speaker: New stock=9 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.630 +01:00 [INF]    Order item created: Subtotal=0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.639 +01:00 [INF]  Calculating order totals {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.654 +01:00 [INF]   - Subtotal: 0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.665 +01:00 [INF]   - Shipping: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.675 +01:00 [INF]   - Tax: 0.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.699 +01:00 [INF]   - Total: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.716 +01:00 [INF]  Saving order to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.792 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'. {"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.813 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='2026-02-09T01:45:23.7743328Z', @p1=NULL (DbType = Int32), @p2='mohamedellithy765@gmail.com' (Nullable = false) (Size = 255), @p3='Mohamed' (Nullable = false) (Size = 100), @p4='Mousa' (Nullable = false) (Size = 100), @p5='+393336863167' (Nullable = false) (Size = 20), @p6='False', @p7=NULL (DbType = Int32), @p8=NULL (Size = 500), @p9='2026-02-09T01:45:23.5372980Z', @p10='ORD-20260209-00002' (Nullable = false) (Size = 50) (DbType = AnsiString), @p11='Cash on Delivery' (Nullable = false) (Size = 50), @p12='Lucera' (Nullable = false) (Size = 100), @p13='5.00' (Precision = 18) (Scale = 2), @p14='Italy' (Nullable = false) (Size = 100), @p15='71036' (Nullable = false) (Size = 20), @p16='Localita Vaccarella, Villaggio Don Bosco' (Nullable = false) (Size = 200), @p17='1', @p18='0' (Precision = 18) (Scale = 2), @p19='0.00' (Precision = 18) (Scale = 2), @p20='5.00' (Precision = 18) (Scale = 2), @p21=NULL (DbType = DateTime2), @p22=NULL (DbType = Int32), @p42='5', @p23='AudioStore' (Nullable = false) (Size = 100), @p24='2', @p25='2026-01-26T02:29:23.1990617', @p26=NULL (DbType = Int32), @p27='Stream high quality sound wirelessly with minimal loss. The ZX7 bookshelf speaker uses high-end audiophile components that represents the top of the line powered speakers for home or studio use.' (Nullable = false) (Size = 2000), @p28='Reap the advantages of a flat diaphragm tweeter cone. This provides a fast response rate and excellent high frequencies that lower tiered bookshelf speakers cannot provide.' (Size = 4000), @p29=NULL (Size = 4000), @p30='True', @p31='False', @p32='True', @p33='False', @p34='True', @p35='/images/products/zx7-speaker.jpg' (Nullable = false) (Size = 500), @p36=NULL (DbType = Int32), @p37='ZX7 Speaker' (Nullable = false) (Size = 200), @p38='3500.00' (Precision = 18) (Scale = 2), @p39='zx7-speaker' (Nullable = false) (Size = 250) (DbType = AnsiString), @p40='9', @p41='2026-02-09T01:45:23.7743342Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedAt], [CreatedById], [CustomerEmail], [CustomerFirstName], [CustomerLastName], [CustomerPhone], [IsDeleted], [ModifiedById], [Notes], [OrderDate], [OrderNumber], [PaymentMethod], [ShippingCity], [ShippingCost], [ShippingCountry], [ShippingPostalCode], [ShippingStreet], [Status], [Subtotal], [Tax], [TotalAmount], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
UPDATE [Products] SET [Brand] = @p23, [CategoryId] = @p24, [CreatedAt] = @p25, [CreatedById] = @p26, [Description] = @p27, [Features] = @p28, [GalleryImages] = @p29, [IsAvailable] = @p30, [IsDeleted] = @p31, [IsFeatured] = @p32, [IsNewProduct] = @p33, [IsPublished] = @p34, [MainImage] = @p35, [ModifiedById] = @p36, [Name] = @p37, [Price] = @p38, [Slug] = @p39, [StockQuantity] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [ProductID] = @p42; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.853 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p43='2026-02-09T01:45:23.7743337Z', @p44=NULL (DbType = Int32), @p45=NULL (DbType = Int32), @p46='2', @p47='5', @p48='1', @p49='3500' (Precision = 18) (Scale = 2), @p50=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([CreatedAt], [CreatedById], [ModifiedById], [OrderId], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[OrderItemID], INSERTED.[IsDeleted], INSERTED.[Subtotal]
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.897 +01:00 [INF]  Order saved to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.912 +01:00 [INF]  Transaction committed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.921 +01:00 [INF]  Order ORD-20260209-00002 created successfully - Total: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.929 +01:00 [INF]  Reloading order with includes for mapping {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:23.988 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@order_Id='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Id] = @order_Id
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09f8f920-5058-43b1-a4ca-85155bf4876f","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.070 +01:00 [INF] HTTP POST /api/v1.0/orders responded 201 in 848.2153 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000019","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.095 +01:00 [INF] HTTP GET /api/v1.0/orders responded 401 in 7.5172 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:0000001B","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.112 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/clear responded 204 in 0.0541 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:0000001D","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.131 +01:00 [INF] Clearing cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"86ec5c1a-76fa-425a-8c45-65c70e75d7d3","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.148 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"86ec5c1a-76fa-425a-8c45-65c70e75d7d3","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.185 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='3', @p0='1', @p1='2026-02-09T01:45:18.0588275', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='5', @p6='1', @p7='3500.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T01:45:24.1778171Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"86ec5c1a-76fa-425a-8c45-65c70e75d7d3","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.214 +01:00 [INF] Cart cleared (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"86ec5c1a-76fa-425a-8c45-65c70e75d7d3","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FJB3I2FL:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.229 +01:00 [INF] HTTP DELETE /api/v1.0/cart/clear responded 200 in 108.1425 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:0000001F","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.297 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00002 responded 204 in 0.0644 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000021","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:45:24.338 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00002 responded 401 in 18.1264 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FJB3I2FL:00000023","ConnectionId":"0HNJ7FJB3I2FL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:21.953 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:22.915 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.245 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.272 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.323 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.339 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.352 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.365 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.371 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.540 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.576 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.581 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.585 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.599 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.627 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.646 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.654 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.660 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.662 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:23.837 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.624 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 6.0231 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000001","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.624 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 5.5443 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000007","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.624 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 6.0465 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000005","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.624 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 5.6895 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000003","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.967 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.983 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.983 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"283b4b9c-df8c-4ac0-a49f-3740db62b8c2","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.989 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"3501c358-eca3-4349-95ce-b054dba82ced","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:31.998 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9bc9ddd3-9d15-4520-9d61-20f210bdb903","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.100 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"283b4b9c-df8c-4ac0-a49f-3740db62b8c2","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.194 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bc9ddd3-9d15-4520-9d61-20f210bdb903","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.282 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3501c358-eca3-4349-95ce-b054dba82ced","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.303 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.386 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"283b4b9c-df8c-4ac0-a49f-3740db62b8c2","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:50:32.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bc9ddd3-9d15-4520-9d61-20f210bdb903","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.513 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"3501c358-eca3-4349-95ce-b054dba82ced","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:50:32.596 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 946.1555 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:0000000B","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.596 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 951.4570 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000009","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.673 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9bc9ddd3-9d15-4520-9d61-20f210bdb903","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 02:50:32.707 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 997.3669 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:0000000D","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:32.761 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 984.7089 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:0000000F","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.014 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.1833 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000011","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.088 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"1a7ca43b-0a79-4213-b4cd-52012b31e6d7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.109 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1a7ca43b-0a79-4213-b4cd-52012b31e6d7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.168 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1a7ca43b-0a79-4213-b4cd-52012b31e6d7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.548 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='1', @p1='2026-02-09T01:50:34.3947457Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='5', @p5='1', @p6='3500.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1a7ca43b-0a79-4213-b4cd-52012b31e6d7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.695 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"1a7ca43b-0a79-4213-b4cd-52012b31e6d7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1a7ca43b-0a79-4213-b4cd-52012b31e6d7","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:34.727 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 684.4479 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000013","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:35.272 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:35.282 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:35.322 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 52.8878 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000015","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.058 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.1521 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000017","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.147 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.172 +01:00 [INF]  Starting order creation - UserId: null, Items count: 1 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.186 +01:00 [INF]  Items validation passed - 1 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.198 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.208 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.214 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.218 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.223 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.264 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.288 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.319 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.347 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.364 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.379 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@Format_startswith='ORD-20260209%' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] LIKE @Format_startswith ESCAPE '\'
ORDER BY [o].[OrderNumber] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.548 +01:00 [INF]  Order number generated: ORD-20260209-00003 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.576 +01:00 [INF]  Retrieving customer info - IsAuthenticated: false {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.623 +01:00 [INF]  Customer info retrieved: Mohamed Mousa (mohamedellithy765@gmail.com) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.671 +01:00 [INF]  Creating order entity {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.687 +01:00 [INF]  Processing 1 order items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.733 +01:00 [INF]   - Processing item: ProductId=5, Quantity=1, UnitPrice=3500 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.750 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.796 +01:00 [INF]    Product found: ZX7 Speaker (Stock: 9, Available: true) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.832 +01:00 [INF]    Stock updated for ZX7 Speaker: New stock=8 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.866 +01:00 [INF]    Order item created: Subtotal=0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.882 +01:00 [INF]  Calculating order totals {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.895 +01:00 [INF]   - Subtotal: 0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.904 +01:00 [INF]   - Shipping: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.915 +01:00 [INF]   - Tax: 0.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.926 +01:00 [INF]   - Total: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:42.934 +01:00 [INF]  Saving order to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.067 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'. {"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.082 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='2026-02-09T01:50:43.0492169Z', @p1=NULL (DbType = Int32), @p2='mohamedellithy765@gmail.com' (Nullable = false) (Size = 255), @p3='Mohamed' (Nullable = false) (Size = 100), @p4='Mousa' (Nullable = false) (Size = 100), @p5='+393336863167' (Nullable = false) (Size = 20), @p6='False', @p7=NULL (DbType = Int32), @p8=NULL (Size = 500), @p9='2026-02-09T01:50:42.6866575Z', @p10='ORD-20260209-00003' (Nullable = false) (Size = 50) (DbType = AnsiString), @p11='Cash on Delivery' (Nullable = false) (Size = 50), @p12='Lucera' (Nullable = false) (Size = 100), @p13='5.00' (Precision = 18) (Scale = 2), @p14='Italy' (Nullable = false) (Size = 100), @p15='71036' (Nullable = false) (Size = 20), @p16='Localita Vaccarella, Villaggio Don Bosco' (Nullable = false) (Size = 200), @p17='1', @p18='0' (Precision = 18) (Scale = 2), @p19='0.00' (Precision = 18) (Scale = 2), @p20='5.00' (Precision = 18) (Scale = 2), @p21=NULL (DbType = DateTime2), @p22=NULL (DbType = Int32), @p42='5', @p23='AudioStore' (Nullable = false) (Size = 100), @p24='2', @p25='2026-01-26T02:29:23.1990617', @p26=NULL (DbType = Int32), @p27='Stream high quality sound wirelessly with minimal loss. The ZX7 bookshelf speaker uses high-end audiophile components that represents the top of the line powered speakers for home or studio use.' (Nullable = false) (Size = 2000), @p28='Reap the advantages of a flat diaphragm tweeter cone. This provides a fast response rate and excellent high frequencies that lower tiered bookshelf speakers cannot provide.' (Size = 4000), @p29=NULL (Size = 4000), @p30='True', @p31='False', @p32='True', @p33='False', @p34='True', @p35='/images/products/zx7-speaker.jpg' (Nullable = false) (Size = 500), @p36=NULL (DbType = Int32), @p37='ZX7 Speaker' (Nullable = false) (Size = 200), @p38='3500.00' (Precision = 18) (Scale = 2), @p39='zx7-speaker' (Nullable = false) (Size = 250) (DbType = AnsiString), @p40='8', @p41='2026-02-09T01:50:43.0492181Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedAt], [CreatedById], [CustomerEmail], [CustomerFirstName], [CustomerLastName], [CustomerPhone], [IsDeleted], [ModifiedById], [Notes], [OrderDate], [OrderNumber], [PaymentMethod], [ShippingCity], [ShippingCost], [ShippingCountry], [ShippingPostalCode], [ShippingStreet], [Status], [Subtotal], [Tax], [TotalAmount], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
UPDATE [Products] SET [Brand] = @p23, [CategoryId] = @p24, [CreatedAt] = @p25, [CreatedById] = @p26, [Description] = @p27, [Features] = @p28, [GalleryImages] = @p29, [IsAvailable] = @p30, [IsDeleted] = @p31, [IsFeatured] = @p32, [IsNewProduct] = @p33, [IsPublished] = @p34, [MainImage] = @p35, [ModifiedById] = @p36, [Name] = @p37, [Price] = @p38, [Slug] = @p39, [StockQuantity] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [ProductID] = @p42; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.110 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p43='2026-02-09T01:50:43.0492176Z', @p44=NULL (DbType = Int32), @p45=NULL (DbType = Int32), @p46='3', @p47='5', @p48='1', @p49='3500' (Precision = 18) (Scale = 2), @p50=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([CreatedAt], [CreatedById], [ModifiedById], [OrderId], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[OrderItemID], INSERTED.[IsDeleted], INSERTED.[Subtotal]
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.148 +01:00 [INF]  Order saved to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.188 +01:00 [INF]  Transaction committed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.218 +01:00 [INF]  Order ORD-20260209-00003 created successfully - Total: 5.00 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.247 +01:00 [INF]  Reloading order with includes for mapping {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.431 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@order_Id='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Id] = @order_Id
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3c472c5b-5da0-4fcd-add3-afa5fdd71592","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000019","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.521 +01:00 [INF] HTTP POST /api/v1.0/orders responded 201 in 1431.7360 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000019","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.548 +01:00 [INF] HTTP GET /api/v1.0/orders responded 401 in 9.5096 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:0000001B","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.586 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/clear responded 204 in 0.2082 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:0000001D","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.613 +01:00 [INF] Clearing cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f201fd93-c2ee-4f51-8d4a-383c16da310b","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f201fd93-c2ee-4f51-8d4a-383c16da310b","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.655 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='4', @p0='1', @p1='2026-02-09T01:50:34.3947457', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='5', @p6='1', @p7='3500.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T01:50:43.6521667Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f201fd93-c2ee-4f51-8d4a-383c16da310b","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.670 +01:00 [INF] Cart cleared (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"f201fd93-c2ee-4f51-8d4a-383c16da310b","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:0000001F","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.693 +01:00 [INF] HTTP DELETE /api/v1.0/cart/clear responded 200 in 90.6707 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:0000001F","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.776 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00003 responded 204 in 0.0530 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000021","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.802 +01:00 [INF] Getting order by number: ORD-20260209-00003 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000023","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.892 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@orderNumber='ORD-20260209-00003' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KK:00000023","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:50:43.993 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00003 responded 200 in 198.6563 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KK:00000023","ConnectionId":"0HNJ7FMBLG8KK","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.643 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.5289 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000001","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.650 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00003 responded 204 in 0.3645 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000003","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.663 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000005","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.683 +01:00 [INF] Getting order by number: ORD-20260209-00003 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000007","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.692 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000005","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.709 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@orderNumber='ORD-20260209-00003' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000007","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.760 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 98.0915 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000005","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:52:16.815 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00003 responded 200 in 134.5128 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000007","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.515 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.1535 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000009","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.558 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.561 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00003 responded 204 in 0.0643 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000000D","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.578 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.594 +01:00 [INF] Getting order by number: ORD-20260209-00003 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000000F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.616 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 59.4030 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000000B","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.643 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@orderNumber='ORD-20260209-00003' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000000F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:14.683 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00003 responded 200 in 89.4373 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000000F","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.622 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.2262 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000011","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.629 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00003 responded 204 in 0.0531 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000013","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.640 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.668 +01:00 [INF] Getting order by number: ORD-20260209-00003 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000017","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.738 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.754 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@orderNumber='ORD-20260209-00003' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000017","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00003","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.760 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 120.4010 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000015","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 02:54:38.791 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00003 responded 200 in 129.0785 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000017","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.797 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0552 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000019","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.802 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00001 responded 204 in 0.0363 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000001B","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.807 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000001D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.824 +01:00 [INF] Getting order by number: ORD-20260209-00001 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000001F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00001","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.869 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000001D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.928 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@orderNumber='ORD-20260209-00001' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000001F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00001","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.943 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 136.8750 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000001D","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:11:43.986 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00001 responded 200 in 162.7428 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000001F","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:10.938 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0478 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000021","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:10.944 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00001 responded 204 in 0.0470 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000023","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:10.954 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000025","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:10.969 +01:00 [INF] Getting order by number: ORD-20260209-00001 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000027","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00001","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:11.060 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000025","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:11.093 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@orderNumber='ORD-20260209-00001' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:00000027","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00001","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:11.106 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 151.7420 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000025","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:11.123 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00001 responded 200 in 155.0943 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000027","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.072 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0578 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:00000029","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.082 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00001 responded 204 in 0.0350 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000002B","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.087 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000002D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.095 +01:00 [INF] Getting order by number: ORD-20260209-00001 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000002F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00001","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.140 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72e11448-5670-4927-a4f6-ca861c6ba67c","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000002D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.165 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@orderNumber='ORD-20260209-00001' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"141d66ef-b1fd-4af2-92c5-ca2f6e86d411","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7FMBLG8KN:0000002F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00001","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.181 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 93.5846 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000002D","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:12:55.209 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00001 responded 200 in 113.9846 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7FMBLG8KN:0000002F","ConnectionId":"0HNJ7FMBLG8KN","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:03.971 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:04.853 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.191 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.219 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.261 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.303 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.316 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.332 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.339 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.512 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.549 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.554 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.559 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.574 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.604 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.619 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.625 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.636 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.640 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.643 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:05.828 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.393 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 5.0942 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000003","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.393 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 4.8336 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000005","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.393 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 4.9336 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000001","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.393 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 4.9594 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000007","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.737 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.754 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.759 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.767 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.778 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.813 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:12.941 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:12.959 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:13.024 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 529.3488 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000000F","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:13.028 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:13.055 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:13.110 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:13.227 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:13.256 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:13.260 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 791.6176 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000000D","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:13.269 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 830.5422 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000000B","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:13.283 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 850.0094 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000009","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:15.917 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.2200 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000011","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:15.937 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/1 responded 204 in 0.0610 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000013","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:15.978 +01:00 [INF] Adding item to cart - Product: 1, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000015","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:15.978 +01:00 [INF] Getting product by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000017","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.015 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000015","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.058 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000017","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.085 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000015","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.144 +01:00 [ERR] Error setting cache key: products:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000017","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:16.180 +01:00 [INF] HTTP GET /api/v1.0/products/1 responded 200 in 213.8388 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000017","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.386 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='1', @p1='2026-02-09T02:17:16.2843725Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='1', @p5='1', @p6='2999.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000015","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.439 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000019","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.469 +01:00 [INF] Product 1 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000015","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000019","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.517 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000015","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.594 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 160.8529 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000019","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:16.656 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 714.3268 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000015","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.214 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0815 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000001B","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.222 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0594 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000001D","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.225 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0408 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000001F","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.225 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0868 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000021","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.265 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000023","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.277 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000025","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.291 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000027","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.332 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000023","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.302 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000029","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.340 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000025","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.352 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000027","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.375 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 110.7668 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000023","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.398 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000029","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.427 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000025","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.535 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000027","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:53.631 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000029","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:53.741 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000025","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:53.761 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 470.7786 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000027","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.776 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 474.9802 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000029","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:53.822 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 545.6737 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000025","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.457 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.2375 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000002B","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.489 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.1061 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000002D","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.492 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000002F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.537 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000031","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.561 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000002F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.586 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000031","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.635 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000002F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.709 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000031","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:17:56.761 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='1', @p1='2026-02-09T02:17:56.7504140Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='5', @p5='1', @p6='3500.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000002F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.783 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 246.8268 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000031","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.842 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000002F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.869 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000002F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.897 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 406.8680 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000002F","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:56.983 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000033","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:57.003 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000033","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:17:57.030 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 47.8100 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000033","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:00.602 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/5 responded 204 in 0.1098 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000035","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:00.647 +01:00 [INF] Removing cart item: 5 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"e16f8a39-c683-4496-aebf-574d81e7dff8","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000037","RequestPath":"/api/v1.0/cart/items/5","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:00.944 +01:00 [ERR] Error removing cart item 5 {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"e16f8a39-c683-4496-aebf-574d81e7dff8","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000037","RequestPath":"/api/v1.0/cart/items/5","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The expression 'ci.CartId' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at AudioStore.Infrastructure.Repositories.CartItemsRepository.GetCartItemWithCart(Int32 cartItemId) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Repositories\CartItemsRepository.cs:line 23
   at AudioStore.Application.Services.Implementations.CartService.RemoveItemAsync(Int32 cartItemId) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CartService.cs:line 335
2026-02-09 03:18:01.031 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/5 responded 400 in 403.2898 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000037","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.169 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.1183 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000039","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.173 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0427 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000003B","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.184 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000003D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.218 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000003D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.241 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 58.6568 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000003D","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.243 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000003F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.263 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000003F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:15.324 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 81.5340 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000003F","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.634 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders responded 204 in 0.1500 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000041","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.713 +01:00 [INF] Creating order for user: null {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.760 +01:00 [INF]  Starting order creation - UserId: null, Items count: 2 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.779 +01:00 [INF]  Items validation passed - 2 items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.788 +01:00 [INF]  Order DTO Details: {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.796 +01:00 [INF]   - CustomerFirstName: Mohamed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.804 +01:00 [INF]   - CustomerLastName: Mousa {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.812 +01:00 [INF]   - CustomerEmail: mohamedellithy765@gmail.com {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.818 +01:00 [INF]   - CustomerPhone: +393336863167 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.821 +01:00 [INF]   - ShippingStreet: Localita Vaccarella, Villaggio Don Bosco {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.826 +01:00 [INF]   - ShippingCity: Lucera {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.830 +01:00 [INF]   - ShippingPostalCode: 71036 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.850 +01:00 [INF]   - ShippingCountry: Italy {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.859 +01:00 [INF]  Beginning database transaction {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.882 +01:00 [INF]  Generating order number {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:24.937 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@Format_startswith='ORD-20260209%' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] LIKE @Format_startswith ESCAPE '\'
ORDER BY [o].[OrderNumber] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.002 +01:00 [INF]  Order number generated: ORD-20260209-00004 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.024 +01:00 [INF]  Retrieving customer info - IsAuthenticated: false {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.036 +01:00 [INF]  Customer info retrieved: Mohamed Mousa (mohamedellithy765@gmail.com) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.042 +01:00 [INF]  Creating order entity {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.055 +01:00 [INF]  Processing 2 order items {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.066 +01:00 [INF]   - Processing item: ProductId=1, Quantity=1, UnitPrice=2999 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.078 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.206 +01:00 [INF]    Product found: XX99 Mark II Headphones (Stock: 14, Available: true) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.224 +01:00 [INF]    Stock updated for XX99 Mark II Headphones: New stock=13 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.235 +01:00 [INF]    Order item created: Quantity=1 x UnitPrice=2999 = Subtotal=2999 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.243 +01:00 [INF]   - Processing item: ProductId=5, Quantity=1, UnitPrice=3500 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.254 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.269 +01:00 [INF]    Product found: ZX7 Speaker (Stock: 8, Available: true) {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.285 +01:00 [INF]    Stock updated for ZX7 Speaker: New stock=7 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.315 +01:00 [INF]    Order item created: Quantity=1 x UnitPrice=3500 = Subtotal=3500 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.337 +01:00 [INF]  Calculating order totals {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.360 +01:00 [INF]   - Subtotal: 6499 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.419 +01:00 [INF]   - Shipping: 0 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.433 +01:00 [INF]   - Tax: 1429.78 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.457 +01:00 [INF]   - Total: 7928.78 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.474 +01:00 [INF]  Saving order to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.586 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'. {"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.615 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='2026-02-09T02:18:25.5636803Z', @p1=NULL (DbType = Int32), @p2='mohamedellithy765@gmail.com' (Nullable = false) (Size = 255), @p3='Mohamed' (Nullable = false) (Size = 100), @p4='Mousa' (Nullable = false) (Size = 100), @p5='+393336863167' (Nullable = false) (Size = 20), @p6='False', @p7=NULL (DbType = Int32), @p8=NULL (Size = 500), @p9='2026-02-09T02:18:25.0545549Z', @p10='ORD-20260209-00004' (Nullable = false) (Size = 50) (DbType = AnsiString), @p11='Cash on Delivery' (Nullable = false) (Size = 50), @p12='Lucera' (Nullable = false) (Size = 100), @p13='0' (Precision = 18) (Scale = 2), @p14='Italy' (Nullable = false) (Size = 100), @p15='71036' (Nullable = false) (Size = 20), @p16='Localita Vaccarella, Villaggio Don Bosco' (Nullable = false) (Size = 200), @p17='1', @p18='6499' (Precision = 18) (Scale = 2), @p19='1429.78' (Precision = 18) (Scale = 2), @p20='7928.78' (Precision = 18) (Scale = 2), @p21=NULL (DbType = DateTime2), @p22=NULL (DbType = Int32), @p42='1', @p23='AudioStore' (Nullable = false) (Size = 100), @p24='1', @p25='2026-01-26T02:29:23.1990615', @p26=NULL (DbType = Int32), @p27='The new XX99 Mark II headphones is the pinnacle of pristine audio. It redefines your premium headphone experience by reproducing the balanced depth and precision of studio-quality sound.' (Nullable = false) (Size = 2000), @p28='Featuring a genuine leather head strap and premium earcups, these headphones deliver superior comfort for those who like to enjoy endless listening. It includes intuitive controls designed for any situation.' (Size = 4000), @p29=NULL (Size = 4000), @p30='True', @p31='False', @p32='True', @p33='True', @p34='True', @p35='/images/products/xx99-mark-two-headphones.jpg' (Nullable = false) (Size = 500), @p36=NULL (DbType = Int32), @p37='XX99 Mark II Headphones' (Nullable = false) (Size = 200), @p38='2999.00' (Precision = 18) (Scale = 2), @p39='xx99-mark-ii-headphones' (Nullable = false) (Size = 250) (DbType = AnsiString), @p40='13', @p41='2026-02-09T02:18:25.5636819Z' (Nullable = true), @p62='5', @p43='AudioStore' (Nullable = false) (Size = 100), @p44='2', @p45='2026-01-26T02:29:23.1990617', @p46=NULL (DbType = Int32), @p47='Stream high quality sound wirelessly with minimal loss. The ZX7 bookshelf speaker uses high-end audiophile components that represents the top of the line powered speakers for home or studio use.' (Nullable = false) (Size = 2000), @p48='Reap the advantages of a flat diaphragm tweeter cone. This provides a fast response rate and excellent high frequencies that lower tiered bookshelf speakers cannot provide.' (Size = 4000), @p49=NULL (Size = 4000), @p50='True', @p51='False', @p52='True', @p53='False', @p54='True', @p55='/images/products/zx7-speaker.jpg' (Nullable = false) (Size = 500), @p56=NULL (DbType = Int32), @p57='ZX7 Speaker' (Nullable = false) (Size = 200), @p58='3500.00' (Precision = 18) (Scale = 2), @p59='zx7-speaker' (Nullable = false) (Size = 250) (DbType = AnsiString), @p60='7', @p61='2026-02-09T02:18:25.5636835Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedAt], [CreatedById], [CustomerEmail], [CustomerFirstName], [CustomerLastName], [CustomerPhone], [IsDeleted], [ModifiedById], [Notes], [OrderDate], [OrderNumber], [PaymentMethod], [ShippingCity], [ShippingCost], [ShippingCountry], [ShippingPostalCode], [ShippingStreet], [Status], [Subtotal], [Tax], [TotalAmount], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
UPDATE [Products] SET [Brand] = @p23, [CategoryId] = @p24, [CreatedAt] = @p25, [CreatedById] = @p26, [Description] = @p27, [Features] = @p28, [GalleryImages] = @p29, [IsAvailable] = @p30, [IsDeleted] = @p31, [IsFeatured] = @p32, [IsNewProduct] = @p33, [IsPublished] = @p34, [MainImage] = @p35, [ModifiedById] = @p36, [Name] = @p37, [Price] = @p38, [Slug] = @p39, [StockQuantity] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [ProductID] = @p42;
UPDATE [Products] SET [Brand] = @p43, [CategoryId] = @p44, [CreatedAt] = @p45, [CreatedById] = @p46, [Description] = @p47, [Features] = @p48, [GalleryImages] = @p49, [IsAvailable] = @p50, [IsDeleted] = @p51, [IsFeatured] = @p52, [IsNewProduct] = @p53, [IsPublished] = @p54, [MainImage] = @p55, [ModifiedById] = @p56, [Name] = @p57, [Price] = @p58, [Slug] = @p59, [StockQuantity] = @p60, [UpdatedAt] = @p61
OUTPUT 1
WHERE [ProductID] = @p62; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.689 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p63='2026-02-09T02:18:25.5636812Z', @p64=NULL (DbType = Int32), @p65=NULL (DbType = Int32), @p66='4', @p67='1', @p68='1', @p69='2999' (Precision = 18) (Scale = 2), @p70=NULL (DbType = DateTime2), @p71='2026-02-09T02:18:25.5636814Z', @p72=NULL (DbType = Int32), @p73=NULL (DbType = Int32), @p74='4', @p75='5', @p76='1', @p77='3500' (Precision = 18) (Scale = 2), @p78=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [OrderItems] USING (
VALUES (@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, 0),
(@p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, 1)) AS i ([CreatedAt], [CreatedById], [ModifiedById], [OrderId], [ProductId], [Quantity], [UnitPrice], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [CreatedById], [ModifiedById], [OrderId], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
VALUES (i.[CreatedAt], i.[CreatedById], i.[ModifiedById], i.[OrderId], i.[ProductId], i.[Quantity], i.[UnitPrice], i.[UpdatedAt])
OUTPUT INSERTED.[OrderItemID], INSERTED.[IsDeleted], INSERTED.[Subtotal], i._Position; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.712 +01:00 [INF]  Order saved to database {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.729 +01:00 [INF]  Transaction committed {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.753 +01:00 [INF]  Order ORD-20260209-00004 created successfully - Total: 7928.78 {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.761 +01:00 [INF]  Reloading order with includes for mapping {"SourceContext":"AudioStore.Application.Services.Implementations.OrderService","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.838 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@order_Id='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Id] = @order_Id
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c43c1a34-6224-4f88-8c71-63f5eb424137","ActionName":"AudioStore.Api.Controllers.OrdersController.CreateOrder (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000043","RequestPath":"/api/v1.0/orders","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.918 +01:00 [INF] HTTP POST /api/v1.0/orders responded 201 in 1257.9026 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000043","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.958 +01:00 [INF] HTTP GET /api/v1.0/orders responded 401 in 15.4810 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000045","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:25.981 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/clear responded 204 in 0.0787 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000047","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.013 +01:00 [INF] Clearing cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"9157ed89-5ae3-4a07-bdb1-8c8ba6793763","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000049","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.047 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9157ed89-5ae3-4a07-bdb1-8c8ba6793763","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000049","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.089 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='5', @p0='1', @p1='2026-02-09T02:17:16.2843725', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='1', @p6='1', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T02:18:26.0832800Z' (Nullable = true), @p19='6', @p10='1', @p11='2026-02-09T02:17:56.7504140', @p12=NULL (DbType = Int32), @p13='True', @p14=NULL (DbType = Int32), @p15='5', @p16='1', @p17='3500.00' (Precision = 18) (Scale = 2), @p18='2026-02-09T02:18:26.0832809Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9;
UPDATE [CartItems] SET [CartId] = @p10, [CreatedAt] = @p11, [CreatedById] = @p12, [IsDeleted] = @p13, [ModifiedById] = @p14, [ProductId] = @p15, [Quantity] = @p16, [UnitPrice] = @p17, [UpdatedAt] = @p18
OUTPUT 1
WHERE [CartItemID] = @p19; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9157ed89-5ae3-4a07-bdb1-8c8ba6793763","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000049","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.110 +01:00 [INF] Cart cleared (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"9157ed89-5ae3-4a07-bdb1-8c8ba6793763","ActionName":"AudioStore.Api.Controllers.CartController.ClearCart (AudioStore.Api)","RequestId":"0HNJ7G59484A3:00000049","RequestPath":"/api/v1.0/cart/clear","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.126 +01:00 [INF] HTTP DELETE /api/v1.0/cart/clear responded 200 in 125.5584 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:00000049","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.213 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00004 responded 204 in 0.0765 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000004B","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.262 +01:00 [INF] Getting order by number: ORD-20260209-00004 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"c2602328-5f70-4948-a54e-e877a084c005","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000004D","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00004","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.401 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@orderNumber='ORD-20260209-00004' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2602328-5f70-4948-a54e-e877a084c005","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7G59484A3:0000004D","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00004","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:18:26.484 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00004 responded 200 in 248.4350 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A3:0000004D","ConnectionId":"0HNJ7G59484A3","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.362 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0467 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:00000001","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.372 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00004 responded 204 in 0.0322 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:00000003","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.376 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A8:00000005","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.386 +01:00 [INF] Getting order by number: ORD-20260209-00004 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"c2602328-5f70-4948-a54e-e877a084c005","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7G59484A8:00000007","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00004","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.409 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A8:00000005","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.420 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@orderNumber='ORD-20260209-00004' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2602328-5f70-4948-a54e-e877a084c005","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7G59484A8:00000007","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00004","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.427 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 51.9060 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:00000005","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:07.454 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00004 responded 200 in 69.1214 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:00000007","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.157 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0296 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:00000009","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.170 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A8:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.175 +01:00 [INF] HTTP OPTIONS /api/v1.0/orders/number/ORD-20260209-00004 responded 204 in 0.0279 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:0000000D","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484A8:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.203 +01:00 [INF] Getting order by number: ORD-20260209-00004 {"SourceContext":"AudioStore.Api.Controllers.OrdersController","ActionId":"c2602328-5f70-4948-a54e-e877a084c005","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7G59484A8:0000000F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00004","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.215 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 44.8483 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:0000000B","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.230 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@orderNumber='ORD-20260209-00004' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[Id], [o1].[CreatedAt], [o1].[CreatedById], [o1].[CustomerEmail], [o1].[CustomerFirstName], [o1].[CustomerLastName], [o1].[CustomerPhone], [o1].[IsDeleted], [o1].[ModifiedById], [o1].[Notes], [o1].[OrderDate], [o1].[OrderNumber], [o1].[PaymentMethod], [o1].[ShippingCity], [o1].[ShippingCost], [o1].[ShippingCountry], [o1].[ShippingPostalCode], [o1].[ShippingStreet], [o1].[Status], [o1].[Subtotal], [o1].[Tax], [o1].[TotalAmount], [o1].[UpdatedAt], [o1].[UserId], [s].[OrderItemID], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[OrderId], [s].[ProductId], [s].[Quantity], [s].[Subtotal], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[CreatedById], [o].[CustomerEmail], [o].[CustomerFirstName], [o].[CustomerLastName], [o].[CustomerPhone], [o].[IsDeleted], [o].[ModifiedById], [o].[Notes], [o].[OrderDate], [o].[OrderNumber], [o].[PaymentMethod], [o].[ShippingCity], [o].[ShippingCost], [o].[ShippingCountry], [o].[ShippingPostalCode], [o].[ShippingStreet], [o].[Status], [o].[Subtotal], [o].[Tax], [o].[TotalAmount], [o].[UpdatedAt], [o].[UserId]
    FROM [Orders] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[OrderNumber] = @orderNumber
) AS [o1]
LEFT JOIN (
    SELECT [o0].[OrderItemID], [o0].[CreatedAt], [o0].[CreatedById], [o0].[IsDeleted], [o0].[ModifiedById], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [o0].[UnitPrice], [o0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [OrderItems] AS [o0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [o0].[ProductId] = [p0].[ProductID]
    WHERE [o0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [o1].[Id] = [s].[OrderId]
ORDER BY [o1].[Id], [s].[OrderItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2602328-5f70-4948-a54e-e877a084c005","ActionName":"AudioStore.Api.Controllers.OrdersController.GetOrderByNumber (AudioStore.Api)","RequestId":"0HNJ7G59484A8:0000000F","RequestPath":"/api/v1.0/orders/number/ORD-20260209-00004","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:23:31.259 +01:00 [INF] HTTP GET /api/v1.0/orders/number/ORD-20260209-00004 responded 200 in 56.9909 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484A8:0000000F","ConnectionId":"0HNJ7G59484A8","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.088 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0340 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000001","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.088 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0191 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000003","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.088 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0118 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000005","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.097 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000007","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.109 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.123 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484AC:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.143 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000007","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.160 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.177 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484AC:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.196 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000007","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.265 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"b87496af-db90-4d86-a6b3-ab52b0e1977a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:55:45.319 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"cda18c75-20bb-4191-9ecd-ae318b66f291","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7G59484AC:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:55:45.358 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"60f43dd2-19c0-43c0-853a-c61a97286bae","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000007","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:55:45.393 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 271.4515 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:0000000B","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.369 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 260.6973 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000009","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:45.409 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 313.1064 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000007","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.221 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0438 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:0000000D","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.235 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/1 responded 204 in 0.0314 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:0000000F","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.238 +01:00 [INF] Adding item to cart - Product: 1, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000011","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.267 +01:00 [INF] Getting product by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000013","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.297 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000011","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":80,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.302 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000013","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.320 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000011","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.374 +01:00 [ERR] Error setting cache key: products:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"c3fb8b13-aea3-4407-a737-223ff08bbe43","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000013","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:55:48.409 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='1', @p1='2026-02-09T02:55:48.4021083Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='1', @p5='1', @p6='2999.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000011","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.417 +01:00 [INF] HTTP GET /api/v1.0/products/1 responded 200 in 151.4988 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000013","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.428 +01:00 [INF] Product 1 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000011","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.454 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e394ee4d-9663-4303-a7f2-fd28f6bf06b6","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000011","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.498 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 261.0656 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000011","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.750 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0383 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000015","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.785 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000017","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.866 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c45cbf02-b736-4f03-8151-39978125cb7e","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7G59484AC:00000017","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:48.893 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 108.9280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000017","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:51.650 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.0536 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:00000019","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:51.697 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 400 in 18.3858 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:0000001B","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:56.398 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.0305 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:0000001D","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:56.411 +01:00 [INF] Removing cart item: 7 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"e16f8a39-c683-4496-aebf-574d81e7dff8","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:0000001F","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:55:56.501 +01:00 [ERR] Error removing cart item 7 {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"e16f8a39-c683-4496-aebf-574d81e7dff8","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7G59484AC:0000001F","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The expression 'ci.CartId' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at AudioStore.Infrastructure.Repositories.CartItemsRepository.GetCartItemWithCart(Int32 cartItemId) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Repositories\CartItemsRepository.cs:line 23
   at AudioStore.Application.Services.Implementations.CartService.RemoveItemAsync(Int32 cartItemId) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CartService.cs:line 335
2026-02-09 03:55:56.519 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/7 responded 400 in 107.9887 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7G59484AC:0000001F","ConnectionId":"0HNJ7G59484AC","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:26.419 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:30.178 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.134 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.528 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.556 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.605 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.620 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.627 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.634 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.650 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.660 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.838 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.874 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.880 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.885 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.900 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.936 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.953 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.964 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.980 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.989 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:31.995 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:32.215 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.055 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 3.2854 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000001","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.055 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 3.4783 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000007","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.055 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 3.3599 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000003","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.055 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 2.2796 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000005","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.296 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"36791e2d-afcc-4f10-95ee-5e7295ef67e1","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.316 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"93f59588-0c32-42cc-b8a4-b9a84d9f6cd8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.318 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"36791e2d-afcc-4f10-95ee-5e7295ef67e1","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.334 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e1b4e5ba-76a0-4de4-98d9-93195e2e29ca","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.345 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"5a4098f5-7464-443c-bd67-6ef549847f2a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.378 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"93f59588-0c32-42cc-b8a4-b9a84d9f6cd8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.506 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"93f59588-0c32-42cc-b8a4-b9a84d9f6cd8","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:57:41.526 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5a4098f5-7464-443c-bd67-6ef549847f2a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.601 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 482.9293 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:0000000D","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.603 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e1b4e5ba-76a0-4de4-98d9-93195e2e29ca","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.646 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"36791e2d-afcc-4f10-95ee-5e7295ef67e1","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.708 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5a4098f5-7464-443c-bd67-6ef549847f2a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.794 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e1b4e5ba-76a0-4de4-98d9-93195e2e29ca","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:57:41.819 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"5a4098f5-7464-443c-bd67-6ef549847f2a","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 03:57:41.838 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 752.0384 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:0000000B","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.841 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 758.3028 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000009","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:57:41.846 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 693.2158 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:0000000F","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:58:27.098 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.1900 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000011","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:58:27.118 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"36791e2d-afcc-4f10-95ee-5e7295ef67e1","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:00000013","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:58:27.170 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"36791e2d-afcc-4f10-95ee-5e7295ef67e1","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7GRS61OBJ:00000013","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:58:27.210 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 95.0612 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000013","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:58:28.475 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.1050 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000015","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 03:58:28.558 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 400 in 55.6590 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7GRS61OBJ:00000017","ConnectionId":"0HNJ7GRS61OBJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:54.383 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.288 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.641 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.671 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.712 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.727 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.734 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.745 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.761 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.767 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.958 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.994 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:55.999 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.004 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.023 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.050 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.064 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.069 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.079 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.085 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.088 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:05:56.256 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.806 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 3.1652 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000007","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.806 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 3.1701 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000001","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.806 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 3.1524 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000005","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.806 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 3.2103 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000003","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.945 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"d4f16380-a3d0-4982-b6c3-f0a1b226a0d3","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.957 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"65747ee1-38f6-4503-9ac6-5310f41ca260","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.958 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d4f16380-a3d0-4982-b6c3-f0a1b226a0d3","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.962 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9c5755d0-4dfb-466c-a7ea-cb079e050206","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.966 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"08342a76-df61-4db9-abe3-9f935ef62006","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:00.993 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"65747ee1-38f6-4503-9ac6-5310f41ca260","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.165 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"65747ee1-38f6-4503-9ac6-5310f41ca260","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:06:01.184 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"08342a76-df61-4db9-abe3-9f935ef62006","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.221 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9c5755d0-4dfb-466c-a7ea-cb079e050206","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.221 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 397.7340 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000009","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.239 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d4f16380-a3d0-4982-b6c3-f0a1b226a0d3","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.271 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"08342a76-df61-4db9-abe3-9f935ef62006","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.329 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9c5755d0-4dfb-466c-a7ea-cb079e050206","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:06:01.365 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"08342a76-df61-4db9-abe3-9f935ef62006","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:06:01.382 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 524.2186 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:0000000D","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.387 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 559.2288 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:0000000B","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:01.388 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 522.1464 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:0000000F","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:02.821 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d4f16380-a3d0-4982-b6c3-f0a1b226a0d3","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:02.876 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d4f16380-a3d0-4982-b6c3-f0a1b226a0d3","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:02.942 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 123.4530 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000011","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:14.523 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.0798 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000013","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:14.570 +01:00 [INF] Updating cart item: 7 to quantity: 2 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"a6b99d71-cf74-4924-8404-93128a31dcf6","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:00000015","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:06:14.856 +01:00 [ERR] Error updating cart item 7 {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"a6b99d71-cf74-4924-8404-93128a31dcf6","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H0IDAKS5:00000015","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: The expression 'ci.CartId' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at AudioStore.Infrastructure.Repositories.CartItemsRepository.GetCartItemWithProducts(Int32 cartItemId) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Repositories\CartItemsRepository.cs:line 16
   at AudioStore.Application.Services.Implementations.CartService.UpdateItemQuantityAsync(UpdateCartItemDTO dto) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Application\Services\Implementations\CartService.cs:line 399
2026-02-09 04:06:14.880 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 400 in 337.2387 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H0IDAKS5:00000015","ConnectionId":"0HNJ7H0IDAKS5","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:52.549 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.436 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.861 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.897 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.945 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.962 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.967 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.980 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:53.995 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.003 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.216 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.267 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.275 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.282 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.305 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.355 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.379 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.388 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.412 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.421 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.427 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:09:54.795 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.245 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 6.2099 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000001","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.245 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 6.2299 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000003","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.245 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 6.1891 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000007","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.245 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 6.2045 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000005","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.572 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.611 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"e712ee36-f404-4e0c-b580-57adcdf17c34","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.612 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.617 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"25c07cf0-6b20-4ab7-92fc-cfa069c0b5d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.628 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.679 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e712ee36-f404-4e0c-b580-57adcdf17c34","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.801 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e712ee36-f404-4e0c-b580-57adcdf17c34","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:10:04.830 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.902 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"25c07cf0-6b20-4ab7-92fc-cfa069c0b5d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.917 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 634.1269 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000000B","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.951 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:04.974 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:05.080 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"25c07cf0-6b20-4ab7-92fc-cfa069c0b5d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:10:05.210 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:10:05.267 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 948.3341 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000000D","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:05.277 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 942.0738 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000000F","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:05.278 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 1001.5720 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000009","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:12.002 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0973 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000011","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:12.036 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000013","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:12.067 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000013","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:12.103 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 69.0645 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000013","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:26.480 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.1160 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000015","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:26.533 +01:00 [INF] Updating cart item: 7 to quantity: 2 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000017","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:26.630 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000017","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:26.793 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='2', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:10:26.7011134Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000017","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:26.835 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000017","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:10:26.849 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 200 in 351.3407 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000017","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:16:57.067 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0671 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000019","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:16:57.086 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000001B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:16:57.229 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000001B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:16:57.266 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 181.3554 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000001B","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:16:57.271 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000001D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:16:57.317 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000001D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:16:57.404 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 132.8645 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000001D","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:02.157 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0577 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000001F","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:02.174 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000021","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:02.202 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000021","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:02.235 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 61.2359 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000021","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:02.237 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000023","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:02.282 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000023","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:02.303 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 66.3023 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000023","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:08.716 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.3320 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000025","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:08.737 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000027","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:08.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000027","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:08.783 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 46.7775 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000027","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:08.813 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000029","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:08.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000029","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:08.850 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 37.1229 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000029","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:12.623 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000002B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:12.636 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000002B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:12.663 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 40.3336 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000002B","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:12.686 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000002D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:12.701 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:0000002D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:12.733 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 47.0574 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000002D","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:32.467 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.2069 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:0000002F","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:32.487 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000031","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:32.541 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000031","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:32.567 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 80.3636 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000031","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:32.569 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000033","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:32.593 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000033","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:32.618 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 49.6610 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000033","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:54.862 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.3271 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000035","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:54.888 +01:00 [INF] Updating cart item: 7 to quantity: 3 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000037","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:54.930 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000037","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:54.959 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:21:54.9509466Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000037","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:54.985 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000037","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:55.013 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 200 in 127.0362 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000037","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:56.233 +01:00 [INF] Updating cart item: 7 to quantity: 4 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000039","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:56.335 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000039","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:56.379 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='4', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:21:56.3780852Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000039","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:56.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVL:00000039","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:56.427 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 200 in 194.6571 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVL:00000039","ConnectionId":"0HNJ7H2PFDAVL","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:58.199 +01:00 [INF] Updating cart item: 7 to quantity: 3 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000001","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:58.238 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000001","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:58.456 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:21:58.4509794Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000001","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:58.483 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000001","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:58.504 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 200 in 305.9536 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000001","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:59.251 +01:00 [INF] Updating cart item: 7 to quantity: 2 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000003","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:59.284 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000003","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:59.340 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='2', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:21:59.3361973Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000003","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:59.366 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000003","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:21:59.382 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 200 in 132.5709 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000003","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:01.384 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.0507 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000005","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:01.421 +01:00 [INF] Removing cart item: 7 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000007","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:01.487 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000007","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:01.538 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='2', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:22:01.5330769Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000007","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:01.591 +01:00 [INF] Cart item 7 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000007","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:01.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000007","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:01.643 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/7 responded 200 in 237.8255 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000007","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:14.994 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.1150 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000009","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:15.008 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:15.024 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:15.054 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 46.1629 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000000B","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:15.055 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:15.089 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000000D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:15.131 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 76.7058 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000000D","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.425 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.1047 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000000F","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.428 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.1946 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000011","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.431 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0429 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000013","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.439 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000015","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.450 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"25c07cf0-6b20-4ab7-92fc-cfa069c0b5d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000017","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.480 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"e712ee36-f404-4e0c-b580-57adcdf17c34","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000019","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.496 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000015","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.552 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"25c07cf0-6b20-4ab7-92fc-cfa069c0b5d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000017","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.589 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e712ee36-f404-4e0c-b580-57adcdf17c34","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000019","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.604 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000015","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.669 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"25c07cf0-6b20-4ab7-92fc-cfa069c0b5d6","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000017","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:22:16.708 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e712ee36-f404-4e0c-b580-57adcdf17c34","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000019","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:22:16.759 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9cda7cb8-8306-468c-ad95-93c84450c647","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000015","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:22:16.774 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 323.9425 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000017","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.785 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 322.8635 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000019","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:16.797 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 360.7170 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000015","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":33,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:17.693 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000001B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:17.712 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000001B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:17.736 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 43.4555 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000001B","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:42.186 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.2450 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000001D","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:42.244 +01:00 [INF] Updating cart item: 7 to quantity: 3 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000001F","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:42.266 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000001F","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:42.287 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:22:42.2805257Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000001F","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:42.323 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d58f0c-c997-498c-8b8d-a7f5bdf591b8","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000001F","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:22:42.355 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/7 responded 200 in 112.6426 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000001F","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:24:42.353 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.1709 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000021","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:24:42.403 +01:00 [INF] Removing cart item: 7 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000023","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:24:42.426 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000023","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:24:42.453 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:24:42.4468525Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000023","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:24:42.468 +01:00 [INF] Cart item 7 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000023","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:24:42.490 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000023","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:24:42.513 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/7 responded 200 in 111.7920 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000023","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:26:53.485 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0367 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000025","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:26:53.507 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000027","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:26:53.529 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000027","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:26:53.548 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 41.6722 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000027","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:26:53.550 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000029","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:26:53.576 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c29ed2d2-93bd-42a9-a314-4dae8cdfd953","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000029","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:26:53.595 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 45.7216 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000029","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:02.803 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.0737 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000002B","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:02.830 +01:00 [INF] Removing cart item: 7 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000002D","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:02.898 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000002D","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:02.938 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:27:02.9317369Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000002D","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:02.949 +01:00 [INF] Cart item 7 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000002D","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:02.970 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:0000002D","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:02.988 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/7 responded 200 in 159.0438 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000002D","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:09.948 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.0339 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:0000002F","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:09.975 +01:00 [INF] Removing cart item: 7 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000031","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:10.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000031","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:10.059 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:27:10.0566318Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000031","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:10.118 +01:00 [INF] Cart item 7 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000031","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:10.131 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"789efaff-f47e-449d-bb61-0e637c5d7e8b","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7H2PFDAVN:00000031","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:27:10.150 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/7 responded 200 in 175.9307 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7H2PFDAVN:00000031","ConnectionId":"0HNJ7H2PFDAVN","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:36.300 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.245 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.704 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.738 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.787 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.804 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.811 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.827 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.842 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:37.850 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.051 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.110 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.124 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.146 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.176 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.192 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.198 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.210 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.214 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.216 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:38.549 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.167 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 2.7817 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000001","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.167 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 2.7494 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000003","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.167 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 2.7710 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000007","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.167 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 2.7583 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000005","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.733 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.752 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.753 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.761 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.768 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.803 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:51.966 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:28:52.003 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:52.051 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 566.5870 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000000D","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:52.063 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:52.104 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:52.109 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000009","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:52.198 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:28:52.231 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:28:52.252 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 757.1345 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000000F","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:52.259 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 1009.7732 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000000B","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:52.278 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 1087.0712 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000009","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:53.660 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:53.708 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:53.731 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 75.3952 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000011","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:55.911 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/7 responded 204 in 0.0975 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000013","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:55.931 +01:00 [INF] Removing cart item: 7 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000015","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:55.984 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@cartItemId='7'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000015","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:56.176 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p9='7', @p0='1', @p1='2026-02-09T02:55:48.4021083', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:28:56.0497640Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000015","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:56.217 +01:00 [INF] Cart item 7 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000015","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:56.254 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000015","RequestPath":"/api/v1.0/cart/items/7","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:28:56.364 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/7 responded 200 in 442.6764 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000015","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.445 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.2736 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000017","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.446 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0712 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000019","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.474 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0912 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000001B","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.507 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000001D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.523 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000001F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.532 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000021","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.546 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000001D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.556 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000001F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.566 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000021","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.583 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000001D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.635 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000001F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:15.679 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000021","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:15.765 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000001D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:15.862 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 339.7964 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000001F","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.918 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 386.5667 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000021","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:15.930 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 428.4614 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000001D","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:19.527 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.2633 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000023","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:19.561 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000025","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:19.605 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000025","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:19.640 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 79.8723 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000025","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.446 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.1016 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000027","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.448 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0777 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000029","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.451 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.1128 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000002B","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.477 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000002D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.486 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000002F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.520 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.544 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000002D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000002F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.646 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000002D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.695 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000002F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:22.742 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:22.832 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000002D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:22.846 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 360.4942 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000002F","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.858 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 340.9642 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000031","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:22.869 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 392.6864 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000002D","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:26.282 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.2417 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000033","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:26.306 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000035","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:26.344 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000035","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:26.367 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 61.3297 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000035","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.033 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.1989 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000037","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.037 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0816 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000039","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.040 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.1062 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000003B","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.068 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000003D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.116 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000003F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.143 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000041","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.169 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000003D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.193 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000003F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.215 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000041","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.234 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000003D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.298 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000003F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:29.340 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000041","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:29.483 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 340.6993 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000041","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.474 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 358.9082 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000003F","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:29.456 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000003D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:29.525 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 457.6780 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000003D","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:31.157 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/1 responded 204 in 0.1060 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000043","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:31.186 +01:00 [INF] Getting product by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"9ca9981f-2610-4ff7-b006-6ec3e7d8779f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000045","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:31.235 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ca9981f-2610-4ff7-b006-6ec3e7d8779f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000045","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:31.308 +01:00 [ERR] Error setting cache key: products:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"9ca9981f-2610-4ff7-b006-6ec3e7d8779f","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000045","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:29:31.316 +01:00 [INF] HTTP GET /api/v1.0/products/1 responded 200 in 144.0490 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000045","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.209 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0720 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000047","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.268 +01:00 [INF] Adding item to cart - Product: 1, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000049","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.280 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000049","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.309 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000049","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.397 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='1', @p1='2026-02-09T03:29:33.3835956Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='1', @p5='1', @p6='2999.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000049","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.543 +01:00 [INF] Product 1 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000049","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.572 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000049","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:33.605 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 374.7550 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000049","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:35.360 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0894 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000004B","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:35.384 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000004D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:35.397 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000004D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:35.429 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 45.6875 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000004D","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:39.454 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000004F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:39.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000004F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:39.488 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 34.6160 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000004F","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:39.490 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000051","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:39.510 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000051","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:39.531 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 41.1914 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000051","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:43.484 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/8 responded 204 in 0.1488 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000053","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:43.516 +01:00 [INF] Removing cart item: 8 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000055","RequestPath":"/api/v1.0/cart/items/8","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:43.575 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@cartItemId='8'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000055","RequestPath":"/api/v1.0/cart/items/8","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:43.618 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p9='8', @p0='1', @p1='2026-02-09T03:29:33.3835956', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='1', @p6='1', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:29:43.6084760Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000055","RequestPath":"/api/v1.0/cart/items/8","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:43.656 +01:00 [INF] Cart item 8 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000055","RequestPath":"/api/v1.0/cart/items/8","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:43.684 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000055","RequestPath":"/api/v1.0/cart/items/8","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:29:43.708 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/8 responded 200 in 192.5734 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000055","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:31:03.387 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0419 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000057","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:31:03.406 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000059","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:31:03.438 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000059","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:31:03.467 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 61.9169 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000059","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:31:03.490 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000005B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:31:03.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000005B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:31:03.522 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 32.3380 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000005B","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.729 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0255 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000005D","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.763 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0379 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000005F","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.764 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0358 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000061","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.780 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.764 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0279 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000063","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.806 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000067","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.831 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000069","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.848 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.855 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.889 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000069","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.867 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000067","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.942 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:14.976 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 196.0631 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000065","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:15.061 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"e5c33b5b-584d-4dc7-b722-c547911d3b80","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000069","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:32:15.081 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000067","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:15.115 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a3dd323e-70f5-4ee3-a74a-71f9f7a435cf","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:32:15.131 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 299.9441 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000069","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:15.173 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"6547acad-dd30-4b4f-b8eb-a914db64d1bf","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000067","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:32:15.181 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 333.3501 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000006B","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:15.204 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 399.0609 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000067","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.509 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0438 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000006D","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.535 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.548 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.565 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.598 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='1', @p1='2026-02-09T03:32:17.5807235Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='5', @p5='1', @p6='3500.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.640 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.649 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6473a5fa-2de8-463b-ab9e-f6284e838740","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:0000006F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:17.664 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 132.1437 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:0000006F","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:18.249 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000071","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:18.294 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7b48cc7b-c369-474f-9170-00ed17e279bd","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000071","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:18.328 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 80.1380 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000071","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:20.406 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/9 responded 204 in 0.0392 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000073","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:20.429 +01:00 [INF] Removing cart item: 9 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000075","RequestPath":"/api/v1.0/cart/items/9","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:20.458 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@cartItemId='9'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000075","RequestPath":"/api/v1.0/cart/items/9","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:20.512 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='9', @p0='1', @p1='2026-02-09T03:32:17.5807235', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='5', @p6='1', @p7='3500.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:32:20.5043976Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000075","RequestPath":"/api/v1.0/cart/items/9","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:20.525 +01:00 [INF] Cart item 9 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000075","RequestPath":"/api/v1.0/cart/items/9","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:20.549 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4a72bf10-c830-4484-a524-fa3cf488b173","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HD8D4BCI:00000075","RequestPath":"/api/v1.0/cart/items/9","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:32:20.564 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/9 responded 200 in 135.5935 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HD8D4BCI:00000075","ConnectionId":"0HNJ7HD8D4BCI","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:27.775 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:28.662 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.032 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.063 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.106 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.123 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.127 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.139 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.153 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.161 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.334 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.375 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.380 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.385 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.402 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.432 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.448 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.453 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.465 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.470 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.474 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:29.678 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.373 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 6.0768 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000005","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.372 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 6.0277 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000001","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.372 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 6.2001 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000003","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.373 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 6.0181 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000007","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.796 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.885 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.887 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.908 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:35.917 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.070 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.118 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.204 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.356 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:36.357 +01:00 [INF] Executed DbCommand (131ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.389 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.413 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 951.5183 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000000D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.470 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:36.508 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:36.532 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 1115.7273 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000000B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.547 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 1133.3685 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000009","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:36.557 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 1063.7975 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000000F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:38.839 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.1154 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000011","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:38.890 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/1 responded 204 in 0.1292 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000015","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:38.917 +01:00 [INF] Adding item to cart - Product: 1, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:38.942 +01:00 [INF] Getting product by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000017","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:38.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:38.989 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000017","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:38.990 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.059 +01:00 [ERR] Error setting cache key: products:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000017","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:39.081 +01:00 [INF] HTTP GET /api/v1.0/products/1 responded 200 in 158.4180 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000017","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.332 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='1', @p1='2026-02-09T03:38:39.2481864Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='1', @p5='1', @p6='2999.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.354 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000019","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.377 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000019","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.394 +01:00 [INF] Product 1 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.412 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 61.9730 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000019","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.421 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000013","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:39.451 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 590.7514 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000013","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:42.554 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/10 responded 204 in 0.0494 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000001B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:42.574 +01:00 [INF] Updating cart item: 10 to quantity: 2 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000001D","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:42.622 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@cartItemId='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000001D","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:42.649 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='10', @p0='1', @p1='2026-02-09T03:38:39.2481864', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='2', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:38:42.6375122Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000001D","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:42.692 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000001D","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:42.712 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/10 responded 200 in 147.6835 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000001D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:44.378 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/10 responded 204 in 0.0855 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000001F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:44.422 +01:00 [INF] Removing cart item: 10 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000021","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:44.494 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@cartItemId='10'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000021","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:44.519 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='10', @p0='1', @p1='2026-02-09T03:38:39.2481864', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='1', @p6='2', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:38:44.5150027Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000021","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:44.537 +01:00 [INF] Cart item 10 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000021","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:44.552 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000021","RequestPath":"/api/v1.0/cart/items/10","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:44.572 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/10 responded 200 in 167.8650 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000021","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.009 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.2726 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000023","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.009 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.2087 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000027","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.009 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.2458 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000025","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.024 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.046 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.063 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000002D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.072 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.081 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.092 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000002D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.166 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:46.219 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000002D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:46.308 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:46.350 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 304.4358 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000002B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.401 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 338.2061 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000002D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:46.412 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 389.7149 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000029","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.706 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.1741 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000002F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.715 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/2 responded 204 in 0.0842 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000031","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.740 +01:00 [INF] Adding item to cart - Product: 2, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.803 +01:00 [INF] Getting product by ID: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000035","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.854 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@id='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000035","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.854 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.959 +01:00 [ERR] Error setting cache key: products:id:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000035","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:48.978 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:48.993 +01:00 [INF] HTTP GET /api/v1.0/products/2 responded 200 in 192.1458 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000035","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.018 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='1', @p1='2026-02-09T03:38:49.0115777Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='2', @p5='1', @p6='1750.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.031 +01:00 [INF] Product 2 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.054 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.097 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 358.7304 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000033","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.219 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0788 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000037","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.229 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000039","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.250 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000039","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:49.277 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 47.5904 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000039","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.526 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.1255 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000003D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.526 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0594 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000003F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.527 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.3842 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000003B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.572 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000041","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.594 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000043","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.604 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000045","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.627 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000041","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.638 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000043","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.654 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000045","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.741 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000041","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:52.794 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000043","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:52.837 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000045","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.853 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 281.2254 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000041","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.864 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 271.2394 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000043","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:52.930 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000045","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:52.956 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 353.0597 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000045","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.476 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.2016 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000047","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.494 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.0868 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000049","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.531 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.562 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004D","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.580 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.583 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004D","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.606 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.701 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004D","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:38:54.727 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='1', @p1='2026-02-09T03:38:54.7224721Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='5', @p5='1', @p6='3500.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.751 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.730 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 168.8111 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000004D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.763 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.784 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 254.3355 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000004B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:54.995 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0558 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000004F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:55.010 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000051","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:55.035 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000051","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:55.053 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 43.0089 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000051","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:58.791 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/11 responded 204 in 0.2279 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000053","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:58.817 +01:00 [INF] Removing cart item: 11 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000055","RequestPath":"/api/v1.0/cart/items/11","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:58.869 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@cartItemId='11'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000055","RequestPath":"/api/v1.0/cart/items/11","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:58.894 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='11', @p0='1', @p1='2026-02-09T03:38:49.0115777', @p2=NULL (DbType = Int32), @p3='True', @p4=NULL (DbType = Int32), @p5='2', @p6='1', @p7='1750.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T03:38:58.8871643Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000055","RequestPath":"/api/v1.0/cart/items/11","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:58.907 +01:00 [INF] Cart item 11 removed {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000055","RequestPath":"/api/v1.0/cart/items/11","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:58.916 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09b7d09e-5fb0-44b5-8258-e55667f1ac95","ActionName":"AudioStore.Api.Controllers.CartController.RemoveItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000055","RequestPath":"/api/v1.0/cart/items/11","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:38:58.935 +01:00 [INF] HTTP DELETE /api/v1.0/cart/items/11 responded 200 in 119.1661 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000055","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.071 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0368 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000057","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.071 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0201 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000059","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.071 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0147 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000005B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.081 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.099 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000005F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.112 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000061","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.127 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.137 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000005F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.142 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000061","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.158 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.198 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000005F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:39:03.293 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000061","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:39:03.382 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:39:03.396 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 297.1804 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000005F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.423 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 310.6868 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000061","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:03.434 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 353.2442 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000005D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:05.793 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/2 responded 204 in 0.0467 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000063","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:05.820 +01:00 [INF] Getting product by ID: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000065","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:05.874 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@id='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000065","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:39:05.974 +01:00 [ERR] Error setting cache key: products:id:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000065","RequestPath":"/api/v1.0/products/2","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:39:05.991 +01:00 [INF] HTTP GET /api/v1.0/products/2 responded 200 in 172.0267 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000065","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:42:14.282 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PH:00000015","RequestPath":"/api/v1/Products","ConnectionId":"0HNJ7HIOLA7PH","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:42:14.306 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PH:00000015","RequestPath":"/api/v1/Products","ConnectionId":"0HNJ7HIOLA7PH","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:42:14.378 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PH:00000015","RequestPath":"/api/v1/Products","ConnectionId":"0HNJ7HIOLA7PH","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:42:14.452 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PH:00000015","RequestPath":"/api/v1/Products","ConnectionId":"0HNJ7HIOLA7PH","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:42:14.477 +01:00 [INF] HTTP GET /api/v1/Products responded 200 in 221.6151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PH:00000015","ConnectionId":"0HNJ7HIOLA7PH","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.070 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0389 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000067","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.081 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0354 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000069","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.081 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0120 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000006D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.081 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0239 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000006B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.098 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000006F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.113 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.123 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000073","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.158 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000006F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.182 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000073","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.245 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 147.4336 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000006F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.131 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000075","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.268 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.305 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000073","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:45:41.338 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000075","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.402 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:45:41.425 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 302.0664 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000073","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.487 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000075","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:45:41.499 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 386.4727 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000071","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.522 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 391.3758 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000075","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.775 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000077","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.813 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000077","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.815 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000079","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.833 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 58.3554 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000077","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.850 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000079","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:41.930 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000079","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:45:41.947 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 132.4562 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000079","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:43.135 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.0420 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000007B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:43.167 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000007D","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:43.236 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000007D","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:43.307 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000007D","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:45:43.317 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 150.6158 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000007D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:52.992 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0524 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000007F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:53.056 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000081","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:53.083 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000081","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:45:53.100 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 44.3598 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000081","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:00.904 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0629 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000083","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:00.906 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0425 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000087","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:00.906 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0343 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000085","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:00.947 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:00.970 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000008B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":30,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:00.981 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000008D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:00.994 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:01.005 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000008B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:01.031 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000008D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:01.061 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:01.096 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000008B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:46:01.197 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 226.8243 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000008B","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:01.188 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:46:01.152 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:0000008D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:46:01.215 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 268.5357 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000089","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:01.242 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 260.9355 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000008D","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:04.095 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.0462 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:0000008F","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:04.119 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000091","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:04.152 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000091","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 04:46:04.226 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PJ:00000091","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 04:46:04.239 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 120.2174 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PJ:00000091","ConnectionId":"0HNJ7HIOLA7PJ","MachineName":"MOHAMEDMOUSA","ThreadId":34,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:07.952 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0296 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000001","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:07.978 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000003","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:07.987 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0267 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000005","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:08.018 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.000 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.002 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000003","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.090 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:08:09.145 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 1167.0101 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000003","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.171 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 1153.0783 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000007","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.208 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0221 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000009","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.211 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.231 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.247 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.289 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:08:09.312 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 100.8571 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000000B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.310 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:09.364 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:08:09.383 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 153.2158 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000000D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.597 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0218 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000000F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.624 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.640 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000013","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000011","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.651 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000015","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.671 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 46.8962 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000011","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000015","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.730 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000015","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:08:52.751 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 100.2613 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000015","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.766 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0156 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000017","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.767 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000019","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.776 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.786 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000019","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.796 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.831 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000019","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:08:52.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.855 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 88.6769 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000019","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:08:52.909 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000001B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:08:52.927 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 151.3810 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000001B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:08.884 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0226 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000001D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:08.890 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0103 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000021","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:08.890 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0165 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000001F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:08.899 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0555 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000023","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:08.957 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000025","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.011 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000027","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.038 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.106 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.289 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000027","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.363 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.230 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000025","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.431 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.524 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000027","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:13:09.553 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.579 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 651.0105 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000025","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.655 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 644.8757 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000027","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":70,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.631 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:13:09.723 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000029","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:13:09.782 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 679.1121 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000002B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:09.792 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 754.6124 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000029","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:12.048 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/1 responded 204 in 0.0287 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000002D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:12.083 +01:00 [INF] Getting product by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000002F","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:12.116 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000002F","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:13:12.201 +01:00 [ERR] Error setting cache key: products:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000002F","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:13:12.219 +01:00 [INF] HTTP GET /api/v1.0/products/1 responded 200 in 136.3000 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000002F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.740 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0166 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000031","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.759 +01:00 [INF] Adding item to cart - Product: 1, Quantity: 3 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.849 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='1', @p1='2026-02-09T04:14:06.8436743Z', @p2=NULL (DbType = Int32), @p3=NULL (DbType = Int32), @p4='1', @p5='3', @p6='2999.00' (Precision = 18) (Scale = 2), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartItems] ([CartId], [CreatedAt], [CreatedById], [ModifiedById], [ProductId], [Quantity], [UnitPrice], [UpdatedAt])
OUTPUT INSERTED.[CartItemID], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.865 +01:00 [INF] Product 1 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.876 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000033","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:06.895 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 138.1897 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000033","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:08.542 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0281 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000035","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:08.596 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000037","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:08.617 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000037","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:08.640 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 44.5050 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000037","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.101 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000039","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.102 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0205 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000003D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.104 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0262 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000003B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.141 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000003F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.170 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000041","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":76,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.191 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000043","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.204 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000003F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.215 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000041","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000043","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000003F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.300 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000041","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:13.369 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000043","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:13.418 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000003F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:13.456 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 286.2868 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000041","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.470 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 280.2946 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000043","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:13.498 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 359.4862 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000003F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:16.281 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.0299 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000045","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:16.302 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000047","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:16.320 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000047","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:16.371 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000047","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:16.389 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 87.1771 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000047","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.831 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0281 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000049","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.853 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 5 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.922 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.941 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='12', @p0='1', @p1='2026-02-09T03:38:54.7224721', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='5', @p6='6', @p7='3500.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T04:14:18.9362114Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.954 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.964 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:18.977 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 125.2454 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000004B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:21.992 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0361 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000004D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:22.010 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:22.032 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000004F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:22.053 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 43.4340 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000004F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:27.957 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0246 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000051","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:27.958 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0118 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000055","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:27.958 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0311 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000053","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:27.987 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.036 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000059","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.050 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.073 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.098 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000059","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.106 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.120 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.159 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000059","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:28.223 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:28.271 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000057","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:28.366 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 380.1806 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000057","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.348 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 298.7037 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000005B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:28.325 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 290.0716 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000059","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.796 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0322 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000005D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.818 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.867 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.889 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.905 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='12', @p0='1', @p1='2026-02-09T03:38:54.7224721', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='5', @p6='7', @p7='3500.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T04:14:31.9026222Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.915 +01:00 [INF] Product 5 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.926 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000005F","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:31.941 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 123.7721 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000005F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:32.467 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.2752 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000061","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:32.532 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000063","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:32.568 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000063","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:32.601 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 68.6521 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000063","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.429 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0281 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000065","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.470 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0283 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000069","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.431 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0267 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000067","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.485 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.497 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.503 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.513 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.520 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.544 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.584 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:36.634 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006F","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:36.713 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000006B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:36.720 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 223.7659 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000006D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.747 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 244.2271 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000006F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:36.796 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 311.0484 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000006B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:43.973 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/1 responded 204 in 0.0270 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000071","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:44.009 +01:00 [INF] Getting product by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000073","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:44.027 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000073","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:14:44.075 +01:00 [ERR] Error setting cache key: products:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000073","RequestPath":"/api/v1.0/products/1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:14:44.092 +01:00 [INF] HTTP GET /api/v1.0/products/1 responded 200 in 83.5198 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000073","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.482 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.1800 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000075","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.543 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000077","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.575 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 1.3151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000079","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.581 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000077","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.599 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000007B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.629 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 86.5592 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000077","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.649 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000007B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.707 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000007B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:16:39.719 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 120.0840 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000007B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.734 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0150 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000007D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.735 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000007F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.745 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000081","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000007F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.769 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000081","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.803 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000007F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:16:39.826 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 91.8722 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000007F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.816 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000081","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:39.870 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000081","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:16:39.882 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 137.8811 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000081","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.586 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0217 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000083","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":91,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.587 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0250 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000085","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.588 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000087","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.613 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.630 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000008B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.643 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000087","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.665 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000008B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.705 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000087","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:16:44.722 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.760 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000008B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:16:44.777 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 189.2067 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000087","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":87,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.861 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000089","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:16:44.899 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 286.2514 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000089","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:16:44.878 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 247.7997 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000008B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.336 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0354 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000008D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.347 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.0298 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000008F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.431 +01:00 [INF] Adding item to cart - Product: 5, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000091","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.456 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000093","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.488 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000091","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.519 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000093","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.552 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000091","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.618 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"db73e73d-87a5-4560-9a76-7da81b4020b9","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000093","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:19:28.644 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 400 in 214.9249 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000091","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":89,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.649 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 193.5245 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000093","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.863 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0297 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000095","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.880 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000097","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.897 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:00000097","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:19:28.919 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 38.5515 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000097","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":90,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:28.191 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PN:00000001","RequestPath":"/api/v1/Products/featured","ConnectionId":"0HNJ7HIOLA7PN","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:28.216 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PN:00000001","RequestPath":"/api/v1/Products/featured","ConnectionId":"0HNJ7HIOLA7PN","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:28.312 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PN:00000001","RequestPath":"/api/v1/Products/featured","ConnectionId":"0HNJ7HIOLA7PN","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:21:28.328 +01:00 [INF] HTTP GET /api/v1/Products/featured responded 200 in 136.9656 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PN:00000001","ConnectionId":"0HNJ7HIOLA7PN","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:34.274 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0199 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:00000099","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:34.313 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000009B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:34.333 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000009B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:34.360 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 48.0153 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000009B","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":86,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:34.362 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000009D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:34.390 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:0000009D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:34.446 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 84.5543 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000009D","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.024 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0271 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:0000009F","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.025 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0172 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000A1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.025 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0118 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000A3","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.065 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A5","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.091 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.108 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A9","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.117 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A5","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.131 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.140 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A9","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.151 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A5","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.187 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:21:37.224 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A9","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:21:37.261 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000A5","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:21:37.293 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 232.7706 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000A5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.284 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 176.0466 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000A9","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:37.273 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 182.3361 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000A7","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.252 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0155 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000AB","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.264 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000AD","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.277 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0086 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000B3","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.275 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0088 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000B1","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":84,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.275 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0160 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000AF","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":81,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.294 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B5","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.282 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000AD","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.304 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.318 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.329 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B5","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.345 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 81.0364 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000AD","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.357 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.364 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.404 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B5","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:21:47.466 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:21:47.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.503 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 209.3283 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000B5","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":73,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.519 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 215.3542 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000B7","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":85,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:21:47.557 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PL:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:21:47.583 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 265.6715 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PL:000000B9","ConnectionId":"0HNJ7HIOLA7PL","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.182 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0319 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000001","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.182 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0228 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000003","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.185 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0282 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000005","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.257 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.266 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.284 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.293 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.329 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:24:19.354 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 97.3527 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000007","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.355 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.443 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000009","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:24:19.460 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.470 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 204.2111 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000009","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:19.519 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000000B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:24:19.535 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 180.4062 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000000B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.353 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0155 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000000D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.366 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.393 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0149 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000015","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.390 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0100 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000013","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.448 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 82.4146 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000000F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.389 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0156 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000011","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.477 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000017","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.514 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000019","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.525 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000017","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.535 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000019","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.577 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000017","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:24:43.592 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000019","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.603 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 126.6301 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000017","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.606 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000001B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.649 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000019","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:24:43.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000001B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.687 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 172.6411 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000019","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:24:43.732 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000001B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:24:43.760 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 153.4133 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000001B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.819 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0193 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000001D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.821 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0121 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000001F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.821 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0108 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000021","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.845 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.869 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000025","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.880 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.909 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000025","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.921 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.935 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:05.967 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000025","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:25:06.002 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:25:06.051 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:25:06.064 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 195.4506 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000025","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:06.074 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 194.4108 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000027","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:06.088 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 243.4018 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000023","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.183 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items responded 204 in 0.0362 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000029","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.209 +01:00 [INF] Adding item to cart - Product: 1, Quantity: 1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.240 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.290 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='13', @p0='1', @p1='2026-02-09T04:14:06.8436743', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='4', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T04:25:08.2866148Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.304 +01:00 [INF] Product 1 added to cart (UserId: null, SessionId: e476a691-25fd-4691-9d90-fbcb4b3df7e1) {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"441ec15f-dcc8-4a3a-834d-a093db80618c","ActionName":"AudioStore.Api.Controllers.CartController.AddItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002B","RequestPath":"/api/v1.0/cart/items","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.335 +01:00 [INF] HTTP POST /api/v1.0/cart/items responded 200 in 126.7303 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000002B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.711 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0694 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000002D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.747 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.759 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000002F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:08.776 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 29.6442 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000002F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.601 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000033","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.602 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000031","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.602 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000035","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000033","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.662 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000031","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000035","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.745 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000033","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:25:10.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000031","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.826 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000035","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:25:10.839 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 237.8210 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000033","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.906 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000031","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:25:10.922 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 320.7817 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000035","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:25:10.967 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 366.1212 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000031","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.046 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0351 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000037","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.069 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000039","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.090 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.1022 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000003D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.085 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0161 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000003B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.132 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0293 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000003F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.140 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000039","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.163 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000041","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.176 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000043","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.185 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000045","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.216 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 146.9969 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000039","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.243 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000041","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.272 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000045","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000043","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.341 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000041","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:27:08.398 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000045","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:27:08.427 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000043","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.447 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 284.3457 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000041","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.464 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 278.8161 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000045","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:08.549 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000043","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:27:08.578 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 402.4584 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000043","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.316 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0239 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000047","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.344 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000049","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.346 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0116 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000004B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.346 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0085 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000004D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.348 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0090 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000004F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000049","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.375 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000051","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.383 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000053","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.397 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000055","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.411 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 68.0115 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000049","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000051","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.437 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000053","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.444 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000055","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.479 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000051","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.525 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000053","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:27:15.562 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000055","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:27:15.608 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000051","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:27:15.622 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 239.6485 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000053","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.632 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 234.9995 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000055","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":59,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:27:15.644 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 269.1096 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000051","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":57,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.296 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0270 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000057","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.298 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0230 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000005B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.297 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0230 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000059","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.375 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000005F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.335 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.422 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000005F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.433 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.517 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000005F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:28:59.545 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.592 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 217.8532 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000005F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.594 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000061","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.665 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000005D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:28:59.690 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 356.2643 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000005D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.680 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000061","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:28:59.748 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000061","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:28:59.786 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 192.5057 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000061","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":49,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:32:43.348 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000001","RequestPath":"/api/v1/Categories","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:32:43.367 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000001","RequestPath":"/api/v1/Categories","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:32:43.407 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000001","RequestPath":"/api/v1/Categories","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:32:43.420 +01:00 [INF] HTTP GET /api/v1/Categories responded 200 in 102.7457 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PT:00000001","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:32:51.753 +01:00 [INF] Getting category by ID: 2 {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000003","RequestPath":"/api/v1/Categories/2","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:32:51.795 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@id='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CategoryID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000003","RequestPath":"/api/v1/Categories/2","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:32:51.911 +01:00 [ERR] Error setting cache key: categories:id:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000003","RequestPath":"/api/v1/Categories/2","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:32:51.939 +01:00 [INF] HTTP GET /api/v1/Categories/2 responded 200 in 206.8569 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PT:00000003","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:33:04.570 +01:00 [INF] Getting category by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000005","RequestPath":"/api/v1/Categories/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:33:04.617 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CategoryID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000005","RequestPath":"/api/v1/Categories/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:33:04.665 +01:00 [ERR] Error setting cache key: categories:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000005","RequestPath":"/api/v1/Categories/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:33:04.681 +01:00 [INF] HTTP GET /api/v1/Categories/1 responded 200 in 111.1904 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PT:00000005","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:33:27.662 +01:00 [INF] Getting products for category: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000007","RequestPath":"/api/v1/Products/category/2","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:33:27.699 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@categoryId='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000007","RequestPath":"/api/v1/Products/category/2","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:33:27.747 +01:00 [ERR] Error setting cache key: products:category:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000007","RequestPath":"/api/v1/Products/category/2","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:33:27.787 +01:00 [INF] HTTP GET /api/v1/Products/category/2 responded 200 in 133.6272 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PT:00000007","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.744 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0230 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000063","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.763 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.800 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 37.0829 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000065","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.803 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0163 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000067","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.804 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0085 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000069","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.809 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.6646 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000006B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.829 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000006D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":48,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.839 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000006F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.855 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000006D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.905 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000006F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.918 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000006D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:07.968 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000006F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:36:08.018 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000006D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:36:08.036 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 197.2630 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000006F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:08.039 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000071","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:08.055 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 226.7351 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000006D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":46,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:08.088 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000071","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:36:08.191 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000071","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:36:08.215 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 177.4623 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000071","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.309 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0284 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000073","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.382 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0262 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000077","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.382 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0299 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000007B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.383 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000075","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.384 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0305 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000079","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.422 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000007D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.456 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000007F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000075","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.515 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000007D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.564 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000007F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.583 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 201.4757 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000075","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.599 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000007D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.646 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000007F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:37:47.688 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000007D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:37:47.698 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 242.4319 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000007F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.701 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000081","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.722 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 299.8275 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000007D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.745 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000081","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:37:47.827 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000081","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:37:47.853 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 152.4165 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000081","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.369 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0347 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000083","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.397 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000085","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.420 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000085","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.435 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0101 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000008B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.430 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0144 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000087","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":43,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.432 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0092 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000089","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.448 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 50.9451 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000085","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.461 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000008D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.469 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000008F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.495 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000008D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.507 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000008F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.545 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000008D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:38:07.564 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000008F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.572 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 111.8969 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000008D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.574 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000091","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.623 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000008F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:38:07.644 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000091","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.659 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 190.1064 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000008F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:07.705 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000091","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:38:07.725 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 151.1767 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000091","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.218 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000093","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.243 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000093","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.248 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000095","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.249 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000097","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.264 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 45.9742 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000093","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.277 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000095","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":41,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000097","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='0', @p1='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p1 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000095","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.360 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000097","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:38:11.436 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000095","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:38:11.456 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 207.6349 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000097","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.459 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000099","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.473 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 225.2422 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000095","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.504 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000099","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:38:11.583 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:00000099","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:38:11.603 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 144.2797 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:00000099","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:23.798 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0301 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000009B","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:23.823 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000009D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:23.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:0000009D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:23.869 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 46.5224 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000009D","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.067 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0144 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:0000009F","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.075 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0174 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000A1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.082 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000A3","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.131 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000A3","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.150 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 68.3674 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000A3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.151 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000A5","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.188 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000A5","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:40:41.230 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 78.5805 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000A5","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":38,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:41:44.320 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0290 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000A7","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:41:44.344 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000A9","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:41:44.374 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000A9","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:41:44.392 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 48.3702 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000A9","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:41:44.394 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000AB","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:41:44.420 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000AB","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:41:44.441 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 47.7869 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000AB","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:36.181 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.1125 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000AD","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:36.199 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000AF","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:36.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000AF","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:36.232 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 32.7462 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000AF","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:36.234 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000B1","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:36.254 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000B1","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:36.271 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 37.4105 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000B1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.090 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0227 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000B3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.092 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0470 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000B7","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.091 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0154 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000B5","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.129 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.158 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000BB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.181 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000BD","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.214 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.276 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000BB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.307 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000BD","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.319 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.383 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000BB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:42:50.473 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000BD","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:42:50.538 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000B9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:42:50.550 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 393.0268 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000BB","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.571 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 390.8277 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000BD","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:42:50.591 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 463.5178 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000B9","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":13,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:00.828 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.1002 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000BF","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":35,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:00.886 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C1","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":36,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:00.917 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C1","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:00.995 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C1","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:44:01.009 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 122.6310 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000C1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:01.031 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0291 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000C3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:01.064 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C5","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:01.093 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_CategoryId_Value='3'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[CategoryId] = @filter_CategoryId_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C5","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:01.175 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@filter_CategoryId_Value='3', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[CategoryId] = @filter_CategoryId_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C5","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:01.230 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 168.7455 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000C5","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":40,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:26.106 +01:00 [INF] Getting products for category: 3 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000009","RequestPath":"/api/v1/Products/category/3","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:26.127 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@categoryId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000009","RequestPath":"/api/v1/Products/category/3","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:44:26.168 +01:00 [ERR] Error setting cache key: products:category:3 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:00000009","RequestPath":"/api/v1/Products/category/3","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:44:26.185 +01:00 [INF] HTTP GET /api/v1/Products/category/3 responded 200 in 79.4033 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PT:00000009","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.484 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0175 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000C7","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.501 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C9","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.505 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0184 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000CB","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.524 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000CD","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.611 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000C9","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.617 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000CD","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.645 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 144.7277 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000C9","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.694 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000CD","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:11.719 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 194.7488 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000CD","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.738 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/3 responded 204 in 0.0145 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000CF","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.745 +01:00 [INF] Getting products for category: 3 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D1","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.758 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@categoryId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D1","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:11.799 +01:00 [ERR] Error setting cache key: products:category:3 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D1","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:11.810 +01:00 [INF] HTTP GET /api/v1.0/products/category/3 responded 200 in 65.3534 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000D1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.547 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.1682 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000D3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.548 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0112 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000D5","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.549 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D7","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.565 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.576 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000DB","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.606 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D7","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.623 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":37,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.643 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000DB","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.671 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D7","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:15.689 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.751 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000DB","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:15.790 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 242.2355 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000D7","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.860 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000D9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:15.889 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 324.6313 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000D9","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:15.871 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 295.7801 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000DB","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:17.817 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0156 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000DD","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:17.834 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000DF","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:17.848 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000DF","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:17.887 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000DF","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:17.894 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 60.3284 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000DF","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:17.906 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/1 responded 204 in 0.0119 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000E1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:17.911 +01:00 [INF] Getting products for category: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000E3","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:17.948 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000E3","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:18.002 +01:00 [ERR] Error setting cache key: products:category:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000E3","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:18.011 +01:00 [INF] HTTP GET /api/v1.0/products/category/1 responded 200 in 100.4401 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000E3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":39,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:50.564 +01:00 [INF] Getting category by ID: 1 {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:0000000B","RequestPath":"/api/v1/Categories/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:50.598 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@id='1'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CategoryID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:0000000B","RequestPath":"/api/v1/Categories/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:50.667 +01:00 [ERR] Error setting cache key: categories:id:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a1f5f25d-f10a-4dcf-b2b8-b16b1506af66","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategoryById (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:0000000B","RequestPath":"/api/v1/Categories/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:50.690 +01:00 [INF] HTTP GET /api/v1/Categories/1 responded 200 in 126.6069 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PT:0000000B","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:59.029 +01:00 [INF] Getting products for category: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:0000000D","RequestPath":"/api/v1/Products/category/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:59.058 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@categoryId='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:0000000D","RequestPath":"/api/v1/Products/category/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:49:59.103 +01:00 [ERR] Error setting cache key: products:category:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PT:0000000D","RequestPath":"/api/v1/Products/category/1","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:49:59.115 +01:00 [INF] HTTP GET /api/v1/Products/category/1 responded 200 in 85.5083 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PT:0000000D","ConnectionId":"0HNJ7HIOLA7PT","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:40.217 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0296 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000E5","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:40.242 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000E7","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:40.267 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000E7","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:40.282 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 40.0517 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000E7","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:50.104 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/12 responded 204 in 0.0217 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000E9","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:50.125 +01:00 [INF] Updating cart item: 12 to quantity: 6 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EB","RequestPath":"/api/v1.0/cart/items/12","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:50.157 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@cartItemId='12'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EB","RequestPath":"/api/v1.0/cart/items/12","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:50.206 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='12', @p0='1', @p1='2026-02-09T03:38:54.7224721', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='5', @p6='6', @p7='3500.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T04:50:50.2024247Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EB","RequestPath":"/api/v1.0/cart/items/12","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:50.228 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EB","RequestPath":"/api/v1.0/cart/items/12","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:50.249 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/12 responded 200 in 124.4300 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000EB","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:53.951 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart/items/13 responded 204 in 0.0332 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000ED","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:53.981 +01:00 [INF] Updating cart item: 13 to quantity: 3 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EF","RequestPath":"/api/v1.0/cart/items/13","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:54.009 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@cartItemId='13'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartItemID], [c].[CartId], [c].[CreatedAt], [c].[CreatedById], [c].[IsDeleted], [c].[ModifiedById], [c].[ProductId], [c].[Quantity], [c].[UnitPrice], [c].[UpdatedAt], [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt]
FROM [CartItems] AS [c]
INNER JOIN (
    SELECT [c0].[CartID], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsActive], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[SessionId], [c0].[UpdatedAt], [c0].[UserId]
    FROM [Carts] AS [c0]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [c1] ON [c].[CartId] = [c1].[CartID]
INNER JOIN (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit)
) AS [p0] ON [c].[ProductId] = [p0].[ProductID]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[CartItemID] = @cartItemId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EF","RequestPath":"/api/v1.0/cart/items/13","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:54.034 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='13', @p0='1', @p1='2026-02-09T04:14:06.8436743', @p2=NULL (DbType = Int32), @p3='False', @p4=NULL (DbType = Int32), @p5='1', @p6='3', @p7='2999.00' (Precision = 18) (Scale = 2), @p8='2026-02-09T04:50:54.0304321Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartItems] SET [CartId] = @p0, [CreatedAt] = @p1, [CreatedById] = @p2, [IsDeleted] = @p3, [ModifiedById] = @p4, [ProductId] = @p5, [Quantity] = @p6, [UnitPrice] = @p7, [UpdatedAt] = @p8
OUTPUT 1
WHERE [CartItemID] = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EF","RequestPath":"/api/v1.0/cart/items/13","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:54.052 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7769db40-2591-4102-876f-9d15610f3874","ActionName":"AudioStore.Api.Controllers.CartController.UpdateItem (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000EF","RequestPath":"/api/v1.0/cart/items/13","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:54.067 +01:00 [INF] HTTP PUT /api/v1.0/cart/items/13 responded 200 in 86.3596 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000EF","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.822 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0326 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000F3","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":44,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.822 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0393 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000F1","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.858 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 32.0161 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000F5","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.902 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000F7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.924 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000F9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.932 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000FB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.951 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000F7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:57.968 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000F9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":45,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:58.119 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000F7","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:50:57.987 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000FB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:58.137 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000F9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:58.145 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 244.0289 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000F7","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":47,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:58.181 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000FB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:50:58.240 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PR:000000F9","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:50:58.322 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 390.0075 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000FB","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":42,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:50:58.345 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 420.9409 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PR:000000F9","ConnectionId":"0HNJ7HIOLA7PR","MachineName":"MOHAMEDMOUSA","ThreadId":51,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.049 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0304 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000001","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.085 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000003","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.117 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000003","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.164 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000003","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:53:07.179 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 94.6035 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000003","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.194 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/3 responded 204 in 0.0153 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000005","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.202 +01:00 [INF] Getting products for category: 3 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000007","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.219 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@categoryId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000007","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:53:07.257 +01:00 [ERR] Error setting cache key: products:category:3 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000007","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:53:07.266 +01:00 [INF] HTTP GET /api/v1.0/products/category/3 responded 200 in 64.1521 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000007","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.674 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0197 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000009","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.710 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.728 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0219 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000000D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.749 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.750 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.775 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 65.1883 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000000B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.790 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.839 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000000F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:55:38.856 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 106.0788 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000000F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.870 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/3 responded 204 in 0.0198 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000011","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.884 +01:00 [INF] Getting products for category: 3 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000013","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.901 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@categoryId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000013","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:38.954 +01:00 [ERR] Error setting cache key: products:category:3 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000013","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:55:38.966 +01:00 [INF] HTTP GET /api/v1.0/products/category/3 responded 200 in 81.3890 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000013","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.469 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.509 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000017","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.510 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000015","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.574 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000017","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.592 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 123.7100 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000015","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.656 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000017","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:55:43.683 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 175.0463 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000017","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":55,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.703 +01:00 [INF] Getting products for category: 3 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000019","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.725 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@categoryId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000019","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:55:43.774 +01:00 [ERR] Error setting cache key: products:category:3 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000019","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:55:43.790 +01:00 [INF] HTTP GET /api/v1.0/products/category/3 responded 200 in 87.1784 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000019","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:06.923 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000001B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:06.969 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:06.998 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:07.036 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000001D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:07.046 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 77.7529 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000001D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:07.058 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/2 responded 204 in 0.0167 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000001F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:07.066 +01:00 [INF] Getting products for category: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000021","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:07.086 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@categoryId='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000021","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:07.138 +01:00 [ERR] Error setting cache key: products:category:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000021","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:07.178 +01:00 [INF] HTTP GET /api/v1.0/products/category/2 responded 200 in 112.5483 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000021","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:10.758 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000023","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:10.781 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000023","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:10.892 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000023","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:10.918 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 159.4835 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000023","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:10.929 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0148 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000025","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:10.939 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000027","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:10.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000027","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:10.996 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000027","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:11.010 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 70.7510 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000027","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.646 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0319 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000029","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.681 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.710 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.801 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000002B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:16.814 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 133.4028 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000002B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.831 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/2 responded 204 in 0.0224 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000002D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.856 +01:00 [INF] Getting products for category: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000002F","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.885 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@categoryId='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000002F","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:16.964 +01:00 [ERR] Error setting cache key: products:category:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000002F","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:17.028 +01:00 [INF] HTTP GET /api/v1.0/products/category/2 responded 200 in 172.1522 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000002F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:18.825 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:18.857 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:18.913 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000031","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:18.922 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 96.7210 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000031","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":71,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:18.943 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/1 responded 204 in 0.0147 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000033","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:18.951 +01:00 [INF] Getting products for category: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000035","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:18.970 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@categoryId='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000035","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:58:19.012 +01:00 [ERR] Error setting cache key: products:category:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000035","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:58:19.022 +01:00 [INF] HTTP GET /api/v1.0/products/category/1 responded 200 in 70.6971 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000035","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":61,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.274 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0898 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000037","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.298 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000039","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.318 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0161 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000003B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.333 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000039","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.335 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000003D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.349 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 51.5953 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000039","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.367 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000003D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.421 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000003D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:59:12.432 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 96.8136 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000003D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.447 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/1 responded 204 in 0.0332 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000003F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.457 +01:00 [INF] Getting products for category: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000041","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.472 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@categoryId='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000041","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 05:59:12.513 +01:00 [ERR] Error setting cache key: products:category:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000041","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 05:59:12.534 +01:00 [INF] HTTP GET /api/v1.0/products/category/1 responded 200 in 76.8922 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000041","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.767 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0376 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000043","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.778 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0172 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000045","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.785 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000047","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.798 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000049","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.831 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000047","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.842 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000049","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.861 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 76.3930 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000047","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.920 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000049","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:16.949 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 151.3429 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000049","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.967 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/1 responded 204 in 0.0465 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000004B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:16.991 +01:00 [INF] Getting products for category: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000004D","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:17.022 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@categoryId='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000004D","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:17.110 +01:00 [ERR] Error setting cache key: products:category:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000004D","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:17.133 +01:00 [INF] HTTP GET /api/v1.0/products/category/1 responded 200 in 143.1959 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000004D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":66,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:18.298 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000004F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:18.341 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000004F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:18.425 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000004F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:18.453 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 155.7551 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000004F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:18.479 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/3 responded 204 in 0.2549 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000051","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:18.496 +01:00 [INF] Getting products for category: 3 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000053","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:18.525 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@categoryId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000053","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:18.604 +01:00 [ERR] Error setting cache key: products:category:3 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000053","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:18.648 +01:00 [INF] HTTP GET /api/v1.0/products/category/3 responded 200 in 152.2516 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000053","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:20.126 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000055","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:20.170 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000055","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:20.232 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000055","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:20.243 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 117.7588 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000055","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:20.255 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000057","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:20.267 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000059","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:20.274 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000059","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:20.324 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000059","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:20.337 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 70.5114 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000059","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.524 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0288 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000005B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.563 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000005D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.606 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000005D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.655 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000005D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:24.673 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 110.9217 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000005D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.687 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/1 responded 204 in 0.0151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000005F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.707 +01:00 [INF] Getting products for category: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000061","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000061","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:24.774 +01:00 [ERR] Error setting cache key: products:category:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000061","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:24.785 +01:00 [INF] HTTP GET /api/v1.0/products/category/1 responded 200 in 77.6538 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000061","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.042 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0210 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000063","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.053 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.054 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0097 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000069","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.054 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0084 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000006B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.079 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000065","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.054 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0103 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000067","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":72,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.086 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000006D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.117 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 64.3847 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000065","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.100 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000006F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.136 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.150 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000006D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.188 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000006F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.216 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.246 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"92af44ce-0da9-4166-bc86-5ef9b606b577","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000006D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:43.298 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000006F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:43.323 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.337 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 251.3280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000006D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":65,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.363 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 263.4590 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000006F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":67,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:01:43.425 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"73662105-8c48-4d1b-b683-504d97b5f698","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000071","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:01:43.456 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 319.5375 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000071","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":68,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.160 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0153 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000073","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.170 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000075","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.183 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000075","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.221 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000075","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:02:16.230 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 60.5543 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000075","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.243 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/3 responded 204 in 0.0172 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000077","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.252 +01:00 [INF] Getting products for category: 3 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000079","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.286 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@categoryId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000079","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:16.330 +01:00 [ERR] Error setting cache key: products:category:3 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000079","RequestPath":"/api/v1.0/products/category/3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:02:16.348 +01:00 [INF] HTTP GET /api/v1.0/products/category/3 responded 200 in 95.3611 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000079","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:18.270 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000007B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:18.299 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000007B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:18.358 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000007B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:02:18.379 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 109.4310 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000007B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:18.393 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0172 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000007D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:18.405 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000007F","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":69,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:18.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000007F","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:02:18.458 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000007F","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:02:18.469 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 64.1147 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000007F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":75,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.558 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0160 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000081","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.571 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000083","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.586 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0209 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000085","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.624 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000087","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.628 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000083","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.643 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000087","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.665 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 94.2974 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000083","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.722 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000087","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:03:59.742 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 118.4989 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000087","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.759 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000089","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.768 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008B","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.788 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008B","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:03:59.857 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008B","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:03:59.870 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 101.9660 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000008B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.238 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.277 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008D","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.293 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.306 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 68.9227 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000008D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.377 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000008F","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:04:03.395 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 101.8883 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000008F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.414 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000091","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000091","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:03.489 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000091","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:04:03.504 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 89.7645 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000091","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.379 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0275 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000093","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.394 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000095","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.405 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0362 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000097","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.423 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000095","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.444 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000099","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.469 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 75.1133 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000095","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.479 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000099","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.531 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:00000099","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:04:05.547 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 103.3693 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:00000099","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.564 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0177 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000009B","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.573 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000009D","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000009D","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:05.621 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:0000009D","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:04:05.630 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 57.1903 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000009D","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.423 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0159 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:0000009F","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.438 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A1","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.443 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A3","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.457 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A1","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.483 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A3","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.521 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 83.5462 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000A1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.579 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A3","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:04:10.601 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 158.4407 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000A3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.620 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0160 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000A5","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.635 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A7","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.651 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A7","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:04:10.699 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000A7","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:04:10.708 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 72.7051 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000A7","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.260 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0223 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000A9","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.279 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000AB","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":78,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.314 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0471 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000AD","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.337 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000AB","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.352 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000AF","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.403 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 124.4327 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000AB","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":83,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.472 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000AF","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.574 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000AF","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:06:48.608 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 256.9735 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000AF","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.627 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0299 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000B1","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.643 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000B3","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.663 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000B3","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:06:48.719 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000B3","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:06:48.727 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 83.6544 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000B3","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.269 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0249 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000B5","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.287 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000B7","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.303 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0309 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000B9","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":77,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.346 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000B7","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.377 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000BB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.448 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 161.0133 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000B7","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":82,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.519 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000BB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.649 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000BB","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:07:05.661 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 284.6583 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000BB","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.673 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0171 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000BD","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":79,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.681 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000BF","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.695 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000BF","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:07:05.739 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7PV:000000BF","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:07:05.752 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 70.4781 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7PV:000000BF","ConnectionId":"0HNJ7HIOLA7PV","MachineName":"MOHAMEDMOUSA","ThreadId":74,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:33.983 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0461 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000001","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":60,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.025 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0180 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000003","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.027 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000005","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":64,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.045 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.146 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.168 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000005","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.256 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000007","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:12:34.277 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 249.8217 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000005","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.289 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 243.9994 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000007","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.318 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0169 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000009","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":63,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.332 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000000B","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.348 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000000B","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:12:34.399 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000000B","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:12:34.411 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 79.1741 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:0000000B","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":62,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.640 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.0287 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:0000000D","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.678 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.703 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0142 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000011","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.708 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f7e9a9f9-06d5-4312-bb9c-610cdd97c063","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.720 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000013","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.739 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 62.2726 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:0000000F","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.760 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000013","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.814 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000013","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:17.828 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 108.1103 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000013","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.861 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000015","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.877 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000017","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.898 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000017","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:17.968 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000017","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:17.982 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 105.3199 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000017","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":56,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.018 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0301 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000019","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.058 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000001B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":52,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.077 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000001B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.146 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000001B","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:43.161 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 102.8609 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:0000001B","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.174 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/2 responded 204 in 0.0146 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:0000001D","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.179 +01:00 [INF] Getting products for category: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000001F","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.194 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@categoryId='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000001F","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:43.240 +01:00 [ERR] Error setting cache key: products:category:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000001F","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:43.244 +01:00 [INF] HTTP GET /api/v1.0/products/category/2 responded 200 in 64.9652 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:0000001F","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:44.579 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000021","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":53,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:44.612 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000021","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:44.688 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000021","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:44.704 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 124.8907 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000021","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:44.715 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/4 responded 204 in 0.0151 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000023","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:44.723 +01:00 [INF] Getting products for category: 4 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000025","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:44.734 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@categoryId='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000025","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:44.774 +01:00 [ERR] Error setting cache key: products:category:4 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000025","RequestPath":"/api/v1.0/products/category/4","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:44.788 +01:00 [INF] HTTP GET /api/v1.0/products/category/4 responded 200 in 65.8715 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000025","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:47.147 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:47.178 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:47.232 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abd67692-250d-4070-baf7-b074fba7c7a0","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:47.241 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 94.1914 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000027","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:47.252 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/1 responded 204 in 0.0138 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:00000029","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":58,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:47.264 +01:00 [INF] Getting products for category: 1 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000002B","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:47.284 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@categoryId='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000002B","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:15:47.343 +01:00 [ERR] Error setting cache key: products:category:1 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a442c2ae-1823-46f9-a85a-8d3c4fcce01d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7HIOLA7Q1:0000002B","RequestPath":"/api/v1.0/products/category/1","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:15:47.357 +01:00 [INF] HTTP GET /api/v1.0/products/category/1 responded 200 in 93.0487 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7HIOLA7Q1:0000002B","ConnectionId":"0HNJ7HIOLA7Q1","MachineName":"MOHAMEDMOUSA","ThreadId":54,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:16.519 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:21.617 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.526 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.561 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.603 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.617 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.621 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.634 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.651 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.657 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.879 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.916 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.921 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.929 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.948 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.975 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.993 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:22.998 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:23.010 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:23.017 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:23.019 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:23.199 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:33.170 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 4.4622 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000005","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:33.170 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 4.4118 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000001","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:33.171 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 4.4280 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000003","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:33.171 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 2.4791 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000007","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.196 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.220 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.220 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"0779045b-b87f-42c9-bf41-2767ec2e20a1","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.228 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"99a1df7d-71d8-4189-a54f-0263657f12f4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.241 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":16,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.280 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.432 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000D","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:25:36.453 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.482 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99a1df7d-71d8-4189-a54f-0263657f12f4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.486 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 3265.2575 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000000D","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.512 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0779045b-b87f-42c9-bf41-2767ec2e20a1","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.528 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.610 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"99a1df7d-71d8-4189-a54f-0263657f12f4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000009","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:25:36.669 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000000F","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:25:36.688 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 3487.3426 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000009","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.695 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 3462.6111 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000000F","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:36.700 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 3496.4867 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000000B","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.046 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0961 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000011","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.074 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000013","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.107 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000013","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.184 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000013","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:25:41.235 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 167.6049 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000013","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.282 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/category/2 responded 204 in 0.0494 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000015","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.303 +01:00 [INF] Getting products for category: 2 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"abe372f7-3596-4355-a237-e3b260707f1e","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000017","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.349 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@categoryId='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit) AND @categoryId = [p].[CategoryId]
ORDER BY [p].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"abe372f7-3596-4355-a237-e3b260707f1e","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000017","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:25:41.437 +01:00 [ERR] Error setting cache key: products:category:2 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"abe372f7-3596-4355-a237-e3b260707f1e","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductsByCategory (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000017","RequestPath":"/api/v1.0/products/category/2","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:25:41.454 +01:00 [INF] HTTP GET /api/v1.0/products/category/2 responded 200 in 162.7188 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000017","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:08.734 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/5 responded 204 in 0.2375 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000019","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:08.796 +01:00 [INF] Getting product by ID: 5 {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"2b96739a-afd6-4b05-b7a5-94d77f32b949","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000001B","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:08.868 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@id='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryID]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[ProductID] = @id {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2b96739a-afd6-4b05-b7a5-94d77f32b949","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000001B","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:08.921 +01:00 [ERR] Error setting cache key: products:id:5 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"2b96739a-afd6-4b05-b7a5-94d77f32b949","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProductById (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000001B","RequestPath":"/api/v1.0/products/5","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:26:08.931 +01:00 [INF] HTTP GET /api/v1.0/products/5 responded 200 in 156.8353 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000001B","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.074 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0890 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000001D","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.074 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0863 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000001F","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.080 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.6028 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000021","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.105 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.122 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"99a1df7d-71d8-4189-a54f-0263657f12f4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000025","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.135 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.148 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.160 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99a1df7d-71d8-4189-a54f-0263657f12f4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000025","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.169 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.187 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.247 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"99a1df7d-71d8-4189-a54f-0263657f12f4","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000025","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:26:15.294 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"b2f200f9-eba4-4afa-b80b-5f021f84ef1c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000027","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:26:15.364 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"d7d1b823-56f8-4068-8234-d8dabe5c0d9d","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000023","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:26:15.385 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 263.4525 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000025","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":26,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.430 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 297.5385 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000027","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:26:15.448 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 345.1576 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000023","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":23,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:17.600 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/register responded 204 in 0.1511 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000029","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:17.703 +01:00 [INF] User registration attempt for email: test@example.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002B","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:17.747 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002B","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:17.792 +01:00 [WRN] Registration failed for test@example.com: Passwords must have at least one non alphanumeric character., Passwords must have at least one uppercase ('A'-'Z'). {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002B","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:17.810 +01:00 [WRN] Registration failed for test@example.com: Passwords must have at least one non alphanumeric character., Passwords must have at least one uppercase ('A'-'Z'). {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002B","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:17.826 +01:00 [INF] HTTP POST /api/v1.0/auth/register responded 400 in 206.3823 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000002B","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:43.050 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/register responded 204 in 0.0824 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000002D","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":3,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:43.074 +01:00 [INF] User registration attempt for email: test@example.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002F","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:43.099 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002F","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:43.114 +01:00 [WRN] Registration failed for test@example.com: Passwords must have at least one non alphanumeric character. {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002F","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:43.128 +01:00 [WRN] Registration failed for test@example.com: Passwords must have at least one non alphanumeric character. {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:0000002F","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:28:43.138 +01:00 [INF] HTTP POST /api/v1.0/auth/register responded 400 in 70.0474 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:0000002F","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:29:00.064 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/register responded 204 in 0.1012 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000031","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":29,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:29:00.141 +01:00 [INF] User registration attempt for email: test@example.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000033","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:29:00.164 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000033","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:29:00.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000033","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:29:00.355 +01:00 [WRN] Registration failed for test@example.com: Username '' is invalid, can only contain letters or digits. {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000033","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:29:00.375 +01:00 [WRN] Registration failed for test@example.com: Username '' is invalid, can only contain letters or digits. {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"f450ec35-f787-4c14-a973-2d871c7070f2","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JEG08SMG:00000033","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:29:00.389 +01:00 [INF] HTTP POST /api/v1.0/auth/register responded 400 in 286.9883 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JEG08SMG:00000033","ConnectionId":"0HNJ7JEG08SMG","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:38.028 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:38.977 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.361 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.393 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.440 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.454 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.459 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.475 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.491 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.500 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.687 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.722 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.727 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.734 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.751 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.779 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.797 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.802 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.813 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.818 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.820 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:39.997 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.481 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 3.3897 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000005","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.481 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 3.5139 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000003","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.481 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 3.1913 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000007","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.481 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 3.5165 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000001","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.819 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"82769f43-6826-4884-b074-c3fff0630d9c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.840 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"82769f43-6826-4884-b074-c3fff0630d9c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.840 +01:00 [INF] Getting cart for user: null or session: e476a691-25fd-4691-9d90-fbcb4b3df7e1 {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"a441051a-10f1-40f5-a0cd-09589fa1387f","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.848 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"677be0c1-ce5d-4d20-a7da-8ff3bbfcf442","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.855 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"99f3a7fe-0ab9-4ade-be0c-079eac38d9c8","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:45.893 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"82769f43-6826-4884-b074-c3fff0630d9c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.038 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"82769f43-6826-4884-b074-c3fff0630d9c","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:34:46.072 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f3a7fe-0ab9-4ade-be0c-079eac38d9c8","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.109 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 603.9843 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000009","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.127 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"677be0c1-ce5d-4d20-a7da-8ff3bbfcf442","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.165 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f3a7fe-0ab9-4ade-be0c-079eac38d9c8","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.180 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@sessionId='e476a691-25fd-4691-9d90-fbcb4b3df7e1' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[SessionId] = @sessionId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a441051a-10f1-40f5-a0cd-09589fa1387f","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.243 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"677be0c1-ce5d-4d20-a7da-8ff3bbfcf442","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000B","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:34:46.281 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"99f3a7fe-0ab9-4ade-be0c-079eac38d9c8","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:0000000D","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:34:46.325 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 817.7778 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:0000000B","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.336 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 805.9147 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:0000000D","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:34:46.362 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 794.5241 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:0000000F","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:16.286 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/register responded 204 in 0.1469 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000011","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:16.416 +01:00 [INF] User registration attempt for email: test@example.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:16.446 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:16.599 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedUserName='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @normalizedUserName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:16.664 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:16.937 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='0', @p1='0713657a-6ab5-4784-8015-74d885f68826' (Size = 4000), @p2='2026-02-09T05:35:16.4659752Z', @p3=NULL (DbType = Int32), @p4='test@example.com' (Size = 256), @p5='True', @p6='test' (Nullable = false) (Size = 100), @p7='False', @p8='test' (Nullable = false) (Size = 100), @p9='True', @p10=NULL (DbType = DateTimeOffset), @p11=NULL (DbType = Int32), @p12='TEST@EXAMPLE.COM' (Size = 256), @p13='TEST@EXAMPLE.COM' (Size = 256), @p14='AQAAAAIAAYagAAAAEJfah1CUJ/NM3M8b9YR5GXmUlMCobjHB5LETUX7Wz56Wsu/QsB+78+VnkOO6ub01PA==' (Size = 4000), @p15='4321642341' (Size = 20), @p16='False', @p17='2026-02-09T05:35:16.4665229Z', @p18='' (Nullable = false) (Size = 4000), @p19='4S2NXTWSHQ5CVPX6S2B4WWT6PR3N4BHB' (Size = 4000), @p20='False', @p21=NULL (DbType = DateTime2), @p22='test@example.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [CreatedById], [Email], [EmailConfirmed], [FirstName], [IsDeleted], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedById], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [Role], [SecurityStamp], [TwoFactorEnabled], [UpdatedAt], [UserName])
OUTPUT INSERTED.[Id], INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.060 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@normalizedRoleName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedRoleName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.135 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='2', @p1='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @p AND [u].[RoleId] = @p1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.204 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedRoleName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedRoleName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.264 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedUserName='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @normalizedUserName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":21,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.285 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.335 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='2', @p1='2', @p26='2', @p2='0', @p3='b0c5ce6a-b56f-433f-86e4-60f69e3d7d74' (Size = 4000), @p27='0713657a-6ab5-4784-8015-74d885f68826' (Size = 4000), @p4='2026-02-09T05:35:16.4659752Z', @p5=NULL (DbType = Int32), @p6='test@example.com' (Size = 256), @p7='True', @p8='test' (Nullable = false) (Size = 100), @p9='True', @p10='False', @p11='test' (Nullable = false) (Size = 100), @p12='True', @p13=NULL (DbType = DateTimeOffset), @p14=NULL (DbType = Int32), @p15='TEST@EXAMPLE.COM' (Size = 256), @p16='TEST@EXAMPLE.COM' (Size = 256), @p17='AQAAAAIAAYagAAAAEJfah1CUJ/NM3M8b9YR5GXmUlMCobjHB5LETUX7Wz56Wsu/QsB+78+VnkOO6ub01PA==' (Size = 4000), @p18='4321642341' (Size = 20), @p19='False', @p20='2026-02-09T05:35:16.4665229Z', @p21='' (Nullable = false) (Size = 4000), @p22='4S2NXTWSHQ5CVPX6S2B4WWT6PR3N4BHB' (Size = 4000), @p23='False', @p24=NULL (DbType = DateTime2), @p25='test@example.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [CreatedById] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FirstName] = @p8, [IsActive] = @p9, [IsDeleted] = @p10, [LastName] = @p11, [LockoutEnabled] = @p12, [LockoutEnd] = @p13, [ModifiedById] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RegistrationDate] = @p20, [Role] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UpdatedAt] = @p24, [UserName] = @p25
OUTPUT 1
WHERE [Id] = @p26 AND [ConcurrencyStamp] = @p27; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.365 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@normalizedEmail='TEST@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.507 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@userId='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.807 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='2026-02-09T05:35:17.7919372Z', @p1=NULL (DbType = Int32), @p2='127.0.0.1' (Size = 50) (DbType = AnsiString), @p3='2026-02-16T05:35:17.6873410Z', @p4='False', @p5=NULL (DbType = Int32), @p6=NULL (Size = 500) (DbType = AnsiString), @p7=NULL (DbType = DateTime2), @p8=NULL (Size = 50) (DbType = AnsiString), @p9='eTsyetC8fL6qhntrNx6d5BF5xAyrOELiU4BJanHfR7Bg6EPj3sTfb3q2/L8THNhDbu2KgjEsQ20hqlvqKRb8oA==' (Nullable = false) (Size = 500) (DbType = AnsiString), @p10=NULL (DbType = DateTime2), @p11='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedById], [CreatedByIp], [ExpiresAt], [IsDeleted], [ModifiedById], [ReplacedByToken], [RevokedAt], [RevokedByIp], [Token], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@userId='2'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.879 +01:00 [INF] User 2 logged in successfully {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.903 +01:00 [INF] User 2 registered successfully {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:17.929 +01:00 [INF] User registered successfully: test@example.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000013","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:35:18.015 +01:00 [INF] HTTP POST /api/v1.0/auth/register responded 200 in 1704.4422 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000013","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":14,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.402 +01:00 [INF] HTTP OPTIONS /api/v1.0/auth/register responded 204 in 0.2294 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000015","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.477 +01:00 [INF] User registration attempt for email: MoMousa@test.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":27,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.548 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedEmail='MOMOUSA@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.695 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedUserName='MOMOUSA@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @normalizedUserName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.729 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='MOMOUSA@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.765 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='0', @p1='d47fa6c8-d8f2-48d2-987b-533b667ec427' (Size = 4000), @p2='2026-02-09T05:47:30.5787471Z', @p3=NULL (DbType = Int32), @p4='MoMousa@test.com' (Size = 256), @p5='True', @p6='Mo' (Nullable = false) (Size = 100), @p7='False', @p8='Mousa' (Nullable = false) (Size = 100), @p9='True', @p10=NULL (DbType = DateTimeOffset), @p11=NULL (DbType = Int32), @p12='MOMOUSA@TEST.COM' (Size = 256), @p13='MOMOUSA@TEST.COM' (Size = 256), @p14='AQAAAAIAAYagAAAAEAcC8r2D5vcJb1Ggt9GWKOPaGlNabuQjLdJWsPlVQcVPCmY1zUZsRWojSY7/hcD8RQ==' (Size = 4000), @p15='123123123' (Size = 20), @p16='False', @p17='2026-02-09T05:47:30.5787629Z', @p18='' (Nullable = false) (Size = 4000), @p19='L7KD3JBPVVJFOTOHZBTG2DLCNUIDIMP2' (Size = 4000), @p20='False', @p21=NULL (DbType = DateTime2), @p22='MoMousa@test.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [CreatedById], [Email], [EmailConfirmed], [FirstName], [IsDeleted], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedById], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [Role], [SecurityStamp], [TwoFactorEnabled], [UpdatedAt], [UserName])
OUTPUT INSERTED.[Id], INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.806 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@normalizedRoleName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedRoleName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.825 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='3', @p1='2'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @p AND [u].[RoleId] = @p1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.841 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedRoleName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedRoleName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.860 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedUserName='MOMOUSA@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @normalizedUserName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.883 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='MOMOUSA@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:30.929 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='2', @p1='3', @p26='3', @p2='0', @p3='d9fa2cb4-a679-4353-bea2-ff7ad7c8c04d' (Size = 4000), @p27='d47fa6c8-d8f2-48d2-987b-533b667ec427' (Size = 4000), @p4='2026-02-09T05:47:30.5787471Z', @p5=NULL (DbType = Int32), @p6='MoMousa@test.com' (Size = 256), @p7='True', @p8='Mo' (Nullable = false) (Size = 100), @p9='True', @p10='False', @p11='Mousa' (Nullable = false) (Size = 100), @p12='True', @p13=NULL (DbType = DateTimeOffset), @p14=NULL (DbType = Int32), @p15='MOMOUSA@TEST.COM' (Size = 256), @p16='MOMOUSA@TEST.COM' (Size = 256), @p17='AQAAAAIAAYagAAAAEAcC8r2D5vcJb1Ggt9GWKOPaGlNabuQjLdJWsPlVQcVPCmY1zUZsRWojSY7/hcD8RQ==' (Size = 4000), @p18='123123123' (Size = 20), @p19='False', @p20='2026-02-09T05:47:30.5787629Z', @p21='' (Nullable = false) (Size = 4000), @p22='L7KD3JBPVVJFOTOHZBTG2DLCNUIDIMP2' (Size = 4000), @p23='False', @p24=NULL (DbType = DateTime2), @p25='MoMousa@test.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [CreatedById] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FirstName] = @p8, [IsActive] = @p9, [IsDeleted] = @p10, [LastName] = @p11, [LockoutEnabled] = @p12, [LockoutEnd] = @p13, [ModifiedById] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RegistrationDate] = @p20, [Role] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UpdatedAt] = @p24, [UserName] = @p25
OUTPUT 1
WHERE [Id] = @p26 AND [ConcurrencyStamp] = @p27; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.000 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedEmail='MOMOUSA@TEST.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.095 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@userId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.148 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='2026-02-09T05:47:31.1403529Z', @p1=NULL (DbType = Int32), @p2='127.0.0.1' (Size = 50) (DbType = AnsiString), @p3='2026-02-16T05:47:31.1393950Z', @p4='False', @p5=NULL (DbType = Int32), @p6=NULL (Size = 500) (DbType = AnsiString), @p7=NULL (DbType = DateTime2), @p8=NULL (Size = 50) (DbType = AnsiString), @p9='ZU+259QA2/1+nyZke+tkUPRGdz9vwLdYrM7qNcR33deNNT3o48xdEDu3yX0aJG/QWuaOSEncwGq2KWB3x21gEA==' (Nullable = false) (Size = 500) (DbType = AnsiString), @p10=NULL (DbType = DateTime2), @p11='3'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedAt], [CreatedById], [CreatedByIp], [ExpiresAt], [IsDeleted], [ModifiedById], [ReplacedByToken], [RevokedAt], [RevokedByIp], [Token], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.172 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@userId='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.197 +01:00 [INF] User 3 logged in successfully {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.209 +01:00 [INF] User 3 registered successfully {"SourceContext":"AudioStore.Application.Services.Implementations.AuthService","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.217 +01:00 [INF] User registered successfully: MoMousa@test.com {"SourceContext":"AudioStore.Api.Controllers.AuthController","ActionId":"827829fc-2c19-4433-a61c-24461f7a5292","ActionName":"AudioStore.Api.Controllers.AuthController.Register (AudioStore.Api)","RequestId":"0HNJ7JJLS927H:00000017","RequestPath":"/api/v1.0/auth/register","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.228 +01:00 [INF] HTTP POST /api/v1.0/auth/register responded 200 in 798.7746 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000017","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.303 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 0.1489 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000019","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.310 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 0.0516 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:0000001B","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":31,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.312 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 0.0434 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:0000001D","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":32,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:47:31.316 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 0.0530 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JJLS927H:00000021","ConnectionId":"0HNJ7JJLS927H","MachineName":"MOHAMEDMOUSA","ThreadId":28,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:15.671 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:16.594 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:16.942 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:16.977 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.021 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.035 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.040 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.050 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.063 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.070 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.258 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.293 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.299 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.304 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.347 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.364 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.369 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.382 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.387 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.389 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:17.632 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:21.791 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 3.7522 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JUKQPN51:00000007","ConnectionId":"0HNJ7JUKQPN51","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:21.791 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 3.8779 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JUKQPN51:00000001","ConnectionId":"0HNJ7JUKQPN51","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:21.791 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 3.8538 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JUKQPN51:00000005","ConnectionId":"0HNJ7JUKQPN51","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:21.791 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 3.8611 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7JUKQPN51:00000003","ConnectionId":"0HNJ7JUKQPN51","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:54:22.231 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"02371cfb-f5f0-437a-85c0-f8c3ea23a723","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7JUKQPN51:0000000B","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7JUKQPN51","MachineName":"MOHAMEDMOUSA","ThreadId":18,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:46.037 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.213 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.587 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.664 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.742 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.785 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.819 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.853 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.873 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:47.925 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.115 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.158 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.164 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.168 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.190 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.220 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.255 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.260 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.268 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.274 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.276 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:48.459 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:57.925 +01:00 [INF] HTTP OPTIONS /api/v1.0/categories responded 204 in 8.1616 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:00000007","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:57.925 +01:00 [INF] HTTP OPTIONS /api/v1.0/products responded 204 in 8.0242 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:00000005","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:57.925 +01:00 [INF] HTTP OPTIONS /api/v1.0/products/featured responded 204 in 7.9913 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:00000003","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":15,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:57.925 +01:00 [INF] HTTP OPTIONS /api/v1.0/cart responded 204 in 8.0534 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:00000001","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.380 +01:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license. {"SourceContext":"LuckyPennySoftware.AutoMapper.License","ActionId":"3f814178-281a-4c3b-be24-13cce21945db","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.403 +01:00 [INF] Getting all categories {"SourceContext":"AudioStore.Api.Controllers.CategoriesController","ActionId":"a5100ac9-a095-4529-a414-b227c1390a92","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.405 +01:00 [INF] Getting cart for user: 3 or session: null {"SourceContext":"AudioStore.Api.Controllers.CartController","ActionId":"3f814178-281a-4c3b-be24-13cce21945db","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":22,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.406 +01:00 [INF] Getting 10 featured products {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"ed7d412b-88af-4aed-9784-d345b18b2adb","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":19,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.413 +01:00 [INF] Getting products with filter {"SourceContext":"AudioStore.Api.Controllers.ProductsController","ActionId":"dd2649b8-1db2-4b74-b565-255b5ade38aa","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.463 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM [Categories] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a5100ac9-a095-4529-a414-b227c1390a92","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.595 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@filter_IsNew_Value='True'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd2649b8-1db2-4b74-b565-255b5ade38aa","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.684 +01:00 [ERR] Error setting cache key: categories:all {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"a5100ac9-a095-4529-a414-b227c1390a92","ActionName":"AudioStore.Api.Controllers.CategoriesController.GetCategories (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:00000009","RequestPath":"/api/v1.0/categories","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:57:58.744 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT TOP(@p) [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsFeatured] = CAST(1 AS bit) AND [p].[IsAvailable] = CAST(1 AS bit) AND [p].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[CreatedAt] DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ed7d412b-88af-4aed-9784-d345b18b2adb","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.797 +01:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 832.0127 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:00000009","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":17,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.788 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@filter_IsNew_Value='True', @p='0', @p2='12'], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[ProductID], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt], [p0].[CreatedById], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt], [c].[CategoryID], [c].[CreatedAt], [c].[CreatedById], [c].[Description], [c].[ImageUrl], [c].[IsDeleted], [c].[ModifiedById], [c].[Name], [c].[Slug], [c].[UpdatedAt]
FROM (
    SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[IsAvailable] = @filter_IsNew_Value
    ORDER BY [p].[Name]
    OFFSET @p ROWS FETCH NEXT @p2 ROWS ONLY
) AS [p0]
INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[CategoryID]
ORDER BY [p0].[Name] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd2649b8-1db2-4b74-b565-255b5ade38aa","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.861 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@userId='3' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [c1].[CartID], [c1].[CreatedAt], [c1].[CreatedById], [c1].[IsActive], [c1].[IsDeleted], [c1].[ModifiedById], [c1].[SessionId], [c1].[UpdatedAt], [c1].[UserId], [s].[CartItemID], [s].[CartId], [s].[CreatedAt], [s].[CreatedById], [s].[IsDeleted], [s].[ModifiedById], [s].[ProductId], [s].[Quantity], [s].[UnitPrice], [s].[UpdatedAt], [s].[ProductID0], [s].[Brand], [s].[CategoryId], [s].[CreatedAt0], [s].[CreatedById0], [s].[Description], [s].[Features], [s].[GalleryImages], [s].[IsAvailable], [s].[IsDeleted0], [s].[IsFeatured], [s].[IsNewProduct], [s].[IsPublished], [s].[MainImage], [s].[ModifiedById0], [s].[Name], [s].[Price], [s].[Slug], [s].[StockQuantity], [s].[UpdatedAt0]
FROM (
    SELECT TOP(1) [c].[CartID], [c].[CreatedAt], [c].[CreatedById], [c].[IsActive], [c].[IsDeleted], [c].[ModifiedById], [c].[SessionId], [c].[UpdatedAt], [c].[UserId]
    FROM [Carts] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[UserId] = @userId AND [c].[IsDeleted] = CAST(0 AS bit)
) AS [c1]
LEFT JOIN (
    SELECT [c0].[CartItemID], [c0].[CartId], [c0].[CreatedAt], [c0].[CreatedById], [c0].[IsDeleted], [c0].[ModifiedById], [c0].[ProductId], [c0].[Quantity], [c0].[UnitPrice], [c0].[UpdatedAt], [p0].[ProductID] AS [ProductID0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedAt] AS [CreatedAt0], [p0].[CreatedById] AS [CreatedById0], [p0].[Description], [p0].[Features], [p0].[GalleryImages], [p0].[IsAvailable], [p0].[IsDeleted] AS [IsDeleted0], [p0].[IsFeatured], [p0].[IsNewProduct], [p0].[IsPublished], [p0].[MainImage], [p0].[ModifiedById] AS [ModifiedById0], [p0].[Name], [p0].[Price], [p0].[Slug], [p0].[StockQuantity], [p0].[UpdatedAt] AS [UpdatedAt0]
    FROM [CartItems] AS [c0]
    INNER JOIN (
        SELECT [p].[ProductID], [p].[Brand], [p].[CategoryId], [p].[CreatedAt], [p].[CreatedById], [p].[Description], [p].[Features], [p].[GalleryImages], [p].[IsAvailable], [p].[IsDeleted], [p].[IsFeatured], [p].[IsNewProduct], [p].[IsPublished], [p].[MainImage], [p].[ModifiedById], [p].[Name], [p].[Price], [p].[Slug], [p].[StockQuantity], [p].[UpdatedAt]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)
    ) AS [p0] ON [c0].[ProductId] = [p0].[ProductID]
    WHERE [c0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [c1].[CartID] = [s].[CartId]
ORDER BY [c1].[CartID], [s].[CartItemID] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f814178-281a-4c3b-be24-13cce21945db","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:58.956 +01:00 [ERR] Error setting cache key: products:featured:10 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"ed7d412b-88af-4aed-9784-d345b18b2adb","ActionName":"AudioStore.Api.Controllers.ProductsController.GetFeaturedProducts (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000D","RequestPath":"/api/v1.0/products/featured","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:57:58.986 +01:00 [ERR] Error setting cache key: products:all:1:12 {"SourceContext":"AudioStore.Infrastructure.Cashing.Services.MemoryCacheService","ActionId":"dd2649b8-1db2-4b74-b565-255b5ade38aa","ActionName":"AudioStore.Api.Controllers.ProductsController.GetProducts (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000B","RequestPath":"/api/v1.0/products","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
System.InvalidOperationException: Cache entry must specify a value for Size when SizeLimit is set.
   at Microsoft.Extensions.Caching.Memory.MemoryCache.SetEntry(CacheEntry entry)
   at Microsoft.Extensions.Caching.Memory.CacheExtensions.Set[TItem](IMemoryCache cache, Object key, TItem value, MemoryCacheEntryOptions options)
   at AudioStore.Infrastructure.Cashing.Services.MemoryCacheService.SetAsync[T](String key, T value, Nullable`1 expiration, CancellationToken cancellationToken) in C:\Users\A1154apulia\Desktop\AudioStore\AudioStore.Infrastructure\Cashing\Services\MemoryCacheService.cs:line 71
2026-02-09 06:57:59.010 +01:00 [INF] HTTP GET /api/v1.0/products/featured responded 200 in 1008.0542 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:0000000D","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":24,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:59.018 +01:00 [INF] HTTP GET /api/v1.0/products responded 200 in 1050.9293 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:0000000B","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":25,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:59.147 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='2026-02-09T05:57:59.0561471Z', @p1=NULL (DbType = Int32), @p2=NULL (DbType = Int32), @p3=NULL (Size = 100) (DbType = AnsiString), @p4=NULL (DbType = DateTime2), @p5='3' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Carts] ([CreatedAt], [CreatedById], [ModifiedById], [SessionId], [UpdatedAt], [UserId])
OUTPUT INSERTED.[CartID], INSERTED.[IsActive], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f814178-281a-4c3b-be24-13cce21945db","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:59.220 +01:00 [INF] New cart created - UserId: 3, SessionId: null {"SourceContext":"AudioStore.Application.Services.Implementations.CartService","ActionId":"3f814178-281a-4c3b-be24-13cce21945db","ActionName":"AudioStore.Api.Controllers.CartController.GetCart (AudioStore.Api)","RequestId":"0HNJ7K0JMJNR7:0000000F","RequestPath":"/api/v1.0/cart","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 06:57:59.254 +01:00 [INF] HTTP GET /api/v1.0/cart responded 200 in 1155.1338 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ7K0JMJNR7:0000000F","ConnectionId":"0HNJ7K0JMJNR7","MachineName":"MOHAMEDMOUSA","ThreadId":20,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:32.762 +01:00 [INF] Starting AudioStore API {"MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:37.424 +01:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"MOHAMEDMOUSA","ThreadId":2,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.548 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":7,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.579 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.625 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.641 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.646 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.657 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.671 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.677 +01:00 [INF] Starting database seeding... {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:38.952 +01:00 [INF] Executed DbCommand (101ms) [Parameters=[@normalizedName='ADMINISTRATOR' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.008 +01:00 [INF] Role 'Administrator' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":10,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.016 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='CUSTOMER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedAt], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[UpdatedAt]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.021 +01:00 [INF] Role 'Customer' already exists {"SourceContext":"AudioStore.Infrastructure.Identity.RoleSeeder","MachineName":"MOHAMEDMOUSA","ThreadId":11,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@normalizedEmail='ADMIN@AUDIOSTORE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[CreatedById], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[ModifiedById], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.066 +01:00 [INF] Admin user already exists: admin@audiostore.com {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.084 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.090 +01:00 [INF] Categories already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.106 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.110 +01:00 [INF] Products already exist, skipping seed {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.112 +01:00 [INF] Database seeding completed successfully! {"SourceContext":"Program","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
2026-02-09 23:45:39.632 +01:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert {"EventId":{"Id":8,"Name":"DeveloperCertificateNotTrusted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer","MachineName":"MOHAMEDMOUSA","ThreadId":9,"EnvironmentName":"Development","Application":"AudioStore.API"}
